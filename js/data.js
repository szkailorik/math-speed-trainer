/**
 * 数学速算训练营 - 题库数据
 * 优化版：精简核心知识点，适合3-4年级小学生
 *
 * 核心理念：
 * - 不贪多，让小朋友记住最关键的内容
 * - 看到4想25，看到8想125
 * - 熟练掌握大九九表
 */

const MathData = {
    // ========== 乘法速记 - 核心必背 ==========
    // 四大天王：25×4=100, 25×8=200, 125×4=500, 125×8=1000
    multiply: {
        // 热身题：最基础的25×4和50×2
        warmup: [
            { q: '25 × 4', a: 100, tip: '看到4想25' },
            { q: '4 × 25', a: 100 },
            { q: '50 × 2', a: 100 },
            { q: '2 × 50', a: 100 },
            { q: '25 × 2', a: 50 },
            { q: '100 ÷ 4', a: 25 },
            { q: '100 ÷ 25', a: 4 },
            { q: '200 ÷ 8', a: 25 },
        ],
        easy: [
            // 25系列 - 最核心
            { q: '25 × 4', a: 100, tip: '看到4想25' },
            { q: '25 × 8', a: 200, tip: '25×4×2' },
            { q: '25 × 2', a: 50 },
            { q: '4 × 25', a: 100 },
            { q: '8 × 25', a: 200 },
            // 50系列
            { q: '50 × 2', a: 100 },
            { q: '50 × 4', a: 200 },
            { q: '2 × 50', a: 100 },
            // 逆向思维
            { q: '100 ÷ 4', a: 25, tip: '100里有4个25' },
            { q: '100 ÷ 25', a: 4 },
            { q: '200 ÷ 8', a: 25 },
            { q: '200 ÷ 25', a: 8 },
            // 填空题
            { q: '25 × ? = 100', a: 4, forceInput: true },
            { q: '? × 25 = 200', a: 8, forceInput: true },
            { q: '50 × ? = 200', a: 4, forceInput: true },
            { q: '? × 4 = 100', a: 25, forceInput: true },
            { q: '? × 2 = 100', a: 50, forceInput: true },
            { q: '100 ÷ ? = 25', a: 4, forceInput: true },
        ],
        normal: [
            // 25进阶
            { q: '25 × 12', a: 300, tip: '25×4×3' },
            { q: '25 × 16', a: 400, tip: '25×4×4' },
            { q: '25 × 20', a: 500, tip: '25×4×5' },
            { q: '12 × 25', a: 300 },
            { q: '16 × 25', a: 400 },
            { q: '20 × 25', a: 500 },
            // 125系列 - 看到8想125
            { q: '125 × 8', a: 1000, tip: '看到8想125' },
            { q: '125 × 4', a: 500 },
            { q: '125 × 2', a: 250 },
            { q: '8 × 125', a: 1000 },
            { q: '4 × 125', a: 500 },
            // 逆向
            { q: '1000 ÷ 8', a: 125, tip: '1000里有8个125' },
            { q: '1000 ÷ 125', a: 8 },
            { q: '500 ÷ 125', a: 4 },
            { q: '300 ÷ 25', a: 12 },
            { q: '400 ÷ 25', a: 16 },
            // 填空题
            { q: '25 × ? = 300', a: 12, forceInput: true },
            { q: '25 × ? = 400', a: 16, forceInput: true },
            { q: '125 × ? = 1000', a: 8, forceInput: true },
            { q: '125 × ? = 500', a: 4, forceInput: true },
            { q: '? × 25 = 500', a: 20, forceInput: true },
            { q: '1000 ÷ ? = 125', a: 8, forceInput: true },
        ],
        hard: [
            // 25和125的综合
            { q: '25 × 24', a: 600, tip: '25×4×6' },
            { q: '25 × 32', a: 800, tip: '25×4×8' },
            { q: '25 × 40', a: 1000 },
            { q: '125 × 16', a: 2000, tip: '125×8×2' },
            { q: '125 × 24', a: 3000, tip: '125×8×3' },
            { q: '125 × 32', a: 4000 },
            // 逆向
            { q: '600 ÷ 25', a: 24 },
            { q: '800 ÷ 25', a: 32 },
            { q: '2000 ÷ 125', a: 16 },
            { q: '3000 ÷ 125', a: 24 },
            // 75系列
            { q: '75 × 4', a: 300, tip: '25×3×4' },
            { q: '75 × 8', a: 600 },
            // 填空题
            { q: '25 × ? = 600', a: 24, forceInput: true },
            { q: '25 × ? = 800', a: 32, forceInput: true },
            { q: '125 × ? = 2000', a: 16, forceInput: true },
            { q: '125 × ? = 3000', a: 24, forceInput: true },
            { q: '75 × ? = 300', a: 4, forceInput: true },
            { q: '75 × ? = 600', a: 8, forceInput: true },
        ]
    },

    // ========== 分数小数互换 - 必背表 ==========
    fraction: {
        // 基础热身题（穿插在难题中，保持手感）
        warmup: [
            { q: '1/10 = ?', a: '0.1', wrongChoices: ['0.01', '1', '0.5'], isText: true },
            { q: '5/10 = ?', a: '0.5', wrongChoices: ['0.05', '5', '0.1'], isText: true },
            { q: '1/2 = ?', a: '0.5', wrongChoices: ['0.2', '0.25', '2'], isText: true },
            { q: '1/4 = ?', a: '0.25', wrongChoices: ['0.4', '0.5', '0.14'], isText: true },
            { q: '0.1 = ?', a: '1/10', wrongChoices: ['1/100', '1/2', '1/5'], isText: true },
            { q: '0.5 = ?', a: '1/2', wrongChoices: ['1/5', '5/100', '1/10'], isText: true },
            { q: '3/10 = ?', a: '0.3', wrongChoices: ['0.03', '3', '0.33'], isText: true },
            { q: '7/10 = ?', a: '0.7', wrongChoices: ['0.07', '7', '0.77'], isText: true },
        ],
        easy: [
            // 十分之系列（最基础！）
            { q: '1/10 = ?', a: '0.1', wrongChoices: ['0.01', '1', '0.5'], isText: true, tip: '十分之几=0.几' },
            { q: '2/10 = ?', a: '0.2', wrongChoices: ['0.02', '2', '0.12'], isText: true },
            { q: '3/10 = ?', a: '0.3', wrongChoices: ['0.03', '3', '0.33'], isText: true },
            { q: '4/10 = ?', a: '0.4', wrongChoices: ['0.04', '4', '0.14'], isText: true },
            { q: '5/10 = ?', a: '0.5', wrongChoices: ['0.05', '5', '0.15'], isText: true },
            { q: '6/10 = ?', a: '0.6', wrongChoices: ['0.06', '6', '0.16'], isText: true },
            { q: '7/10 = ?', a: '0.7', wrongChoices: ['0.07', '7', '0.17'], isText: true },
            { q: '8/10 = ?', a: '0.8', wrongChoices: ['0.08', '8', '0.18'], isText: true },
            { q: '9/10 = ?', a: '0.9', wrongChoices: ['0.09', '9', '0.19'], isText: true },
            // 百分之系列
            { q: '1/100 = ?', a: '0.01', wrongChoices: ['0.1', '0.001', '1'], isText: true, tip: '百分之几=0.0几' },
            { q: '5/100 = ?', a: '0.05', wrongChoices: ['0.5', '0.005', '5'], isText: true },
            { q: '10/100 = ?', a: '0.1', wrongChoices: ['0.01', '1', '0.5'], isText: true },
            { q: '25/100 = ?', a: '0.25', wrongChoices: ['2.5', '0.025', '25'], isText: true },
            { q: '50/100 = ?', a: '0.5', wrongChoices: ['5', '0.05', '0.25'], isText: true },
            // 小数转分数
            { q: '0.1 = ?', a: '1/10', wrongChoices: ['1/100', '1/2', '1/5'], isText: true },
            { q: '0.3 = ?', a: '3/10', wrongChoices: ['1/3', '3/100', '30/10'], isText: true },
            { q: '0.5 = ?', a: '5/10', wrongChoices: ['1/5', '5/100', '50/10'], isText: true },
            { q: '0.7 = ?', a: '7/10', wrongChoices: ['1/7', '7/100', '70/10'], isText: true },
            { q: '0.01 = ?', a: '1/100', wrongChoices: ['1/10', '1/1000', '10/100'], isText: true },
            { q: '0.05 = ?', a: '5/100', wrongChoices: ['1/5', '5/10', '5/1000'], isText: true },
        ],
        normal: [
            // 二分之、四分之、五分之
            { q: '1/2 = ?', a: '0.5', wrongChoices: ['0.2', '0.12', '0.25'], isText: true },
            { q: '1/4 = ?', a: '0.25', wrongChoices: ['0.4', '0.14', '0.5'], isText: true },
            { q: '2/4 = ?', a: '0.5', wrongChoices: ['0.24', '0.2', '0.75'], isText: true, tip: '约分后是1/2' },
            { q: '3/4 = ?', a: '0.75', wrongChoices: ['0.34', '0.25', '0.7'], isText: true },
            { q: '1/5 = ?', a: '0.2', wrongChoices: ['0.5', '0.15', '0.25'], isText: true },
            { q: '2/5 = ?', a: '0.4', wrongChoices: ['0.25', '0.2', '0.45'], isText: true },
            { q: '3/5 = ?', a: '0.6', wrongChoices: ['0.35', '0.5', '0.65'], isText: true },
            { q: '4/5 = ?', a: '0.8', wrongChoices: ['0.45', '0.75', '0.85'], isText: true },
            // 小数转分数
            { q: '0.5 = ?', a: '1/2', wrongChoices: ['1/5', '5/100', '1/4'], isText: true },
            { q: '0.25 = ?', a: '1/4', wrongChoices: ['1/2', '2/5', '1/5'], isText: true },
            { q: '0.75 = ?', a: '3/4', wrongChoices: ['7/10', '3/5', '7/8'], isText: true },
            { q: '0.2 = ?', a: '1/5', wrongChoices: ['1/2', '2/10', '1/4'], isText: true },
            { q: '0.4 = ?', a: '2/5', wrongChoices: ['1/4', '4/10', '2/4'], isText: true },
            { q: '0.6 = ?', a: '3/5', wrongChoices: ['6/100', '3/4', '2/3'], isText: true },
            { q: '0.8 = ?', a: '4/5', wrongChoices: ['8/100', '4/8', '3/4'], isText: true },
            // 混合练习
            { q: '1/3 ≈ ?', a: '0.33', wrongChoices: ['0.3', '0.13', '0.333'], isText: true, tip: '约等于0.33' },
            { q: '2/3 ≈ ?', a: '0.67', wrongChoices: ['0.6', '0.23', '0.66'], isText: true, tip: '约等于0.67' },
        ],
        hard: [
            // 八分之系列（重要！和125有关）
            { q: '1/8 = ?', a: '0.125', wrongChoices: ['0.18', '0.25', '0.8'], isText: true, tip: '125÷1000' },
            { q: '3/8 = ?', a: '0.375', wrongChoices: ['0.38', '0.35', '0.325'], isText: true },
            { q: '5/8 = ?', a: '0.625', wrongChoices: ['0.58', '0.65', '0.525'], isText: true },
            { q: '7/8 = ?', a: '0.875', wrongChoices: ['0.78', '0.85', '0.775'], isText: true },
            // 小数转分数
            { q: '0.125 = ?', a: '1/8', wrongChoices: ['1/4', '1/5', '1/12'], isText: true },
            { q: '0.375 = ?', a: '3/8', wrongChoices: ['3/4', '3/5', '3/10'], isText: true },
            { q: '0.625 = ?', a: '5/8', wrongChoices: ['5/6', '5/10', '6/8'], isText: true },
            { q: '0.875 = ?', a: '7/8', wrongChoices: ['7/10', '8/9', '7/4'], isText: true },
            // 其他常用
            { q: '1/20 = ?', a: '0.05', wrongChoices: ['0.2', '0.5', '0.02'], isText: true },
            { q: '1/25 = ?', a: '0.04', wrongChoices: ['0.25', '0.4', '0.025'], isText: true },
            { q: '1/50 = ?', a: '0.02', wrongChoices: ['0.5', '0.05', '0.2'], isText: true },
            { q: '3/20 = ?', a: '0.15', wrongChoices: ['0.32', '0.35', '1.5'], isText: true },
            { q: '7/20 = ?', a: '0.35', wrongChoices: ['0.72', '0.7', '3.5'], isText: true },
            { q: '9/20 = ?', a: '0.45', wrongChoices: ['0.92', '0.9', '4.5'], isText: true },
        ]
    },

    // ========== 小数乘除10规律 ==========
    decimal: {
        // 基础热身题（战斗模式穿插用）
        warmup: [
            { q: '1 × 10', a: 10, wrongChoices: ['1', '100', '0.1'] },
            { q: '2 × 10', a: 20, wrongChoices: ['2', '200', '0.2'] },
            { q: '5 × 10', a: 50, wrongChoices: ['5', '500', '0.5'] },
            { q: '10 ÷ 10', a: 1, wrongChoices: ['10', '0.1', '100'] },
            { q: '20 ÷ 10', a: 2, wrongChoices: ['20', '0.2', '200'] },
            { q: '50 ÷ 10', a: 5, wrongChoices: ['50', '0.5', '500'] },
            { q: '3 × 10', a: 30, wrongChoices: ['3', '300', '0.3'] },
            { q: '30 ÷ 10', a: 3, wrongChoices: ['30', '0.3', '300'] },
        ],
        easy: [
            // 乘10（小数点右移1位）
            { q: '0.1 × 10', a: 1, wrongChoices: ['0.01', '10', '0.1'] },
            { q: '0.2 × 10', a: 2, wrongChoices: ['0.02', '20', '0.2'] },
            { q: '0.5 × 10', a: 5, wrongChoices: ['0.05', '50', '0.5'] },
            { q: '0.9 × 10', a: 9, wrongChoices: ['0.09', '90', '0.9'] },
            { q: '1.2 × 10', a: 12, wrongChoices: ['0.12', '120', '1.2'] },
            { q: '2.5 × 10', a: 25, wrongChoices: ['0.25', '250', '2.5'] },
            { q: '0.3 × 10', a: 3, wrongChoices: ['0.03', '30', '0.3'] },
            { q: '0.7 × 10', a: 7, wrongChoices: ['0.07', '70', '0.7'] },
            // 除以10（小数点左移1位）
            { q: '1 ÷ 10', a: 0.1, display: '0.1', wrongChoices: ['10', '0.01', '1'] },
            { q: '5 ÷ 10', a: 0.5, display: '0.5', wrongChoices: ['50', '0.05', '5'] },
            { q: '12 ÷ 10', a: 1.2, display: '1.2', wrongChoices: ['120', '0.12', '12'] },
            { q: '25 ÷ 10', a: 2.5, display: '2.5', wrongChoices: ['250', '0.25', '25'] },
            { q: '100 ÷ 10', a: 10, wrongChoices: ['1000', '1', '100'] },
            { q: '50 ÷ 10', a: 5, wrongChoices: ['500', '0.5', '50'] },
            { q: '3 ÷ 10', a: 0.3, display: '0.3', wrongChoices: ['30', '0.03', '3'] },
            { q: '7 ÷ 10', a: 0.7, display: '0.7', wrongChoices: ['70', '0.07', '7'] },
        ],
        normal: [
            // 乘100（小数点右移2位）
            { q: '0.1 × 100', a: 10, wrongChoices: ['1', '100', '0.1'] },
            { q: '0.01 × 100', a: 1, wrongChoices: ['0.1', '10', '0.01'] },
            { q: '0.25 × 100', a: 25, wrongChoices: ['2.5', '250', '0.25'] },
            { q: '0.125 × 100', a: 12.5, display: '12.5', wrongChoices: ['1.25', '125', '0.125'] },
            { q: '1.5 × 100', a: 150, wrongChoices: ['15', '1500', '1.5'] },
            { q: '2.5 × 100', a: 250, wrongChoices: ['25', '2500', '2.5'] },
            { q: '0.5 × 100', a: 50, wrongChoices: ['5', '500', '0.5'] },
            { q: '0.75 × 100', a: 75, wrongChoices: ['7.5', '750', '0.75'] },
            // 除以100（小数点左移2位）
            { q: '1 ÷ 100', a: 0.01, display: '0.01', wrongChoices: ['0.1', '0.001', '1'] },
            { q: '10 ÷ 100', a: 0.1, display: '0.1', wrongChoices: ['1', '0.01', '10'] },
            { q: '25 ÷ 100', a: 0.25, display: '0.25', wrongChoices: ['2.5', '0.025', '25'] },
            { q: '50 ÷ 100', a: 0.5, display: '0.5', wrongChoices: ['5', '0.05', '50'] },
            { q: '125 ÷ 100', a: 1.25, display: '1.25', wrongChoices: ['12.5', '0.125', '125'] },
            { q: '250 ÷ 100', a: 2.5, display: '2.5', wrongChoices: ['25', '0.25', '250'] },
            { q: '75 ÷ 100', a: 0.75, display: '0.75', wrongChoices: ['7.5', '0.075', '75'] },
            { q: '5 ÷ 100', a: 0.05, display: '0.05', wrongChoices: ['0.5', '0.005', '5'] },
        ],
        hard: [
            // 乘1000
            { q: '0.001 × 1000', a: 1, wrongChoices: ['0.1', '10', '0.01'] },
            { q: '0.01 × 1000', a: 10, wrongChoices: ['1', '100', '0.01'] },
            { q: '0.1 × 1000', a: 100, wrongChoices: ['10', '1000', '0.1'] },
            { q: '0.125 × 1000', a: 125, wrongChoices: ['12.5', '1250', '1.25'] },
            { q: '1.25 × 1000', a: 1250, wrongChoices: ['125', '12500', '12.5'] },
            { q: '0.5 × 1000', a: 500, wrongChoices: ['50', '5000', '5'] },
            // 除以1000
            { q: '1 ÷ 1000', a: 0.001, display: '0.001', wrongChoices: ['0.01', '0.1', '1'] },
            { q: '10 ÷ 1000', a: 0.01, display: '0.01', wrongChoices: ['0.1', '0.001', '10'] },
            { q: '100 ÷ 1000', a: 0.1, display: '0.1', wrongChoices: ['1', '0.01', '100'] },
            { q: '125 ÷ 1000', a: 0.125, display: '0.125', wrongChoices: ['1.25', '0.0125', '12.5'] },
            { q: '1000 ÷ 1000', a: 1, wrongChoices: ['10', '0.1', '100'] },
            { q: '500 ÷ 1000', a: 0.5, display: '0.5', wrongChoices: ['5', '0.05', '50'] },
            // 混合
            { q: '12.5 × 10', a: 125, wrongChoices: ['1.25', '1250', '12.5'] },
            { q: '1.25 × 100', a: 125, wrongChoices: ['12.5', '1250', '1.25'] },
            { q: '0.25 × 1000', a: 250, wrongChoices: ['25', '2500', '2.5'] },
            { q: '2.5 × 100', a: 250, wrongChoices: ['25', '2500', '2.5'] },
        ]
    },

    // ========== 单位换算 ==========
    // 涵盖七大类别：长度、质量、容积、人民币、时间、面积
    // 千米=公里、千克=公斤 随机出现
    unit: {
        // ---- 热身题（12题）：最基础的单步换算 ----
        warmup: [
            // 长度（千米=公里）
            { q: '1千米 = ?米', a: '1000', wrongChoices: ['100', '10000', '10'], isText: true },
            { q: '1公里 = ?米', a: '1000', wrongChoices: ['100', '10000', '10'], isText: true },
            { q: '1米 = ?厘米', a: '100', wrongChoices: ['10', '1000', '50'], isText: true },
            // 质量（千克=公斤）
            { q: '1千克 = ?克', a: '1000', wrongChoices: ['100', '10000', '10'], isText: true },
            { q: '1公斤 = ?克', a: '1000', wrongChoices: ['100', '10000', '10'], isText: true },
            { q: '1吨 = ?千克', a: '1000', wrongChoices: ['100', '10000', '500'], isText: true },
            // 容积
            { q: '1升 = ?毫升', a: '1000', wrongChoices: ['100', '10000', '10'], isText: true },
            // 人民币
            { q: '1元 = ?角', a: '10', wrongChoices: ['100', '1', '2'], isText: true },
            // 时间
            { q: '1小时 = ?分钟', a: '60', wrongChoices: ['100', '30', '120'], isText: true },
            { q: '1分钟 = ?秒', a: '60', wrongChoices: ['100', '30', '120'], isText: true },
            { q: '1天 = ?小时', a: '24', wrongChoices: ['12', '48', '10'], isText: true },
            // 面积
            { q: '1平方米 = ?平方分米', a: '100', wrongChoices: ['10', '1000', '50'], isText: true },
        ],

        // ---- 简单题（22题）：小数字单步换算，含两个方向 ----
        easy: [
            // 长度（混用千米/公里）
            { q: '3米 = ?厘米', a: '300', wrongChoices: ['30', '3000', '150'], isText: true },
            { q: '5米 = ?分米', a: '50', wrongChoices: ['500', '5', '15'], isText: true },
            { q: '2公里 = ?米', a: '2000', wrongChoices: ['200', '20000', '1200'], isText: true },
            { q: '100厘米 = ?米', a: '1', wrongChoices: ['10', '0.1', '100'], isText: true },
            { q: '4000米 = ?千米', a: '4', wrongChoices: ['40', '400', '0.4'], isText: true },
            // 质量（混用千克/公斤 + 斤）
            { q: '2公斤 = ?克', a: '2000', wrongChoices: ['200', '20000', '20'], isText: true },
            { q: '5吨 = ?千克', a: '5000', wrongChoices: ['500', '50000', '50'], isText: true },
            { q: '2000克 = ?千克', a: '2', wrongChoices: ['20', '200', '0.2'], isText: true },
            { q: '3000千克 = ?吨', a: '3', wrongChoices: ['30', '300', '0.3'], isText: true },
            { q: '1斤 = ?克', a: '500', wrongChoices: ['250', '1000', '50'], isText: true },
            { q: '1千克 = ?斤', a: '2', wrongChoices: ['1', '10', '5'], isText: true },
            // 容积
            { q: '3升 = ?毫升', a: '3000', wrongChoices: ['300', '30000', '30'], isText: true },
            { q: '5000毫升 = ?升', a: '5', wrongChoices: ['50', '500', '0.5'], isText: true },
            // 人民币
            { q: '5元 = ?角', a: '50', wrongChoices: ['5', '500', '15'], isText: true },
            { q: '30角 = ?元', a: '3', wrongChoices: ['30', '0.3', '300'], isText: true },
            { q: '1元 = ?分', a: '100', wrongChoices: ['10', '1000', '50'], isText: true },
            // 时间（含天/周/月/年）
            { q: '2小时 = ?分钟', a: '120', wrongChoices: ['200', '60', '180'], isText: true },
            { q: '180秒 = ?分钟', a: '3', wrongChoices: ['18', '30', '1.8'], isText: true },
            { q: '1周 = ?天', a: '7', wrongChoices: ['5', '10', '14'], isText: true },
            { q: '1年 = ?个月', a: '12', wrongChoices: ['10', '24', '6'], isText: true },
            // 面积
            { q: '3平方米 = ?平方分米', a: '300', wrongChoices: ['30', '3000', '3'], isText: true },
            { q: '5平方分米 = ?平方厘米', a: '500', wrongChoices: ['50', '5000', '5'], isText: true },
        ],

        // ---- 普通题（22题）：多步换算、组合单位（时间不含小数） ----
        normal: [
            // 长度（混用千米/公里）
            { q: '2500米 = ?公里', a: '2.5', wrongChoices: ['25', '0.25', '250'], isText: true },
            { q: '1500米 = ?千米', a: '1.5', wrongChoices: ['15', '0.15', '150'], isText: true },
            { q: '3米5分米 = ?分米', a: '35', wrongChoices: ['305', '3.5', '53'], isText: true },
            { q: '80毫米 = ?厘米', a: '8', wrongChoices: ['80', '0.8', '800'], isText: true },
            { q: '2千米500米 = ?米', a: '2500', wrongChoices: ['2050', '250', '25000'], isText: true },
            // 质量（混用千克/公斤 + 斤）
            { q: '1500克 = ?千克?克', a: '1千克500克', wrongChoices: ['15千克0克', '1千克50克', '1千克5克'], isText: true },
            { q: '2.5公斤 = ?克', a: '2500', wrongChoices: ['250', '25000', '2050'], isText: true },
            { q: '3吨500千克 = ?千克', a: '3500', wrongChoices: ['350', '3050', '35000'], isText: true },
            { q: '3斤 = ?克', a: '1500', wrongChoices: ['300', '3000', '150'], isText: true },
            { q: '4斤 = ?公斤', a: '2', wrongChoices: ['4', '0.4', '8'], isText: true },
            // 容积
            { q: '2升500毫升 = ?毫升', a: '2500', wrongChoices: ['250', '2050', '25000'], isText: true },
            { q: '1500毫升 = ?升?毫升', a: '1升500毫升', wrongChoices: ['15升0毫升', '1升50毫升', '1升5毫升'], isText: true },
            // 人民币
            { q: '3.5元 = ?角', a: '35', wrongChoices: ['3.5', '350', '30.5'], isText: true },
            { q: '3元5角 = ?元', a: '3.5', wrongChoices: ['35', '3.05', '30.5'], isText: true },
            { q: '56角 = ?元?角', a: '5元6角', wrongChoices: ['56元0角', '5元60角', '0元56角'], isText: true },
            // 时间（简单组合，不含小数换算）
            { q: '2小时30分钟 = ?分钟', a: '150', wrongChoices: ['230', '90', '130'], isText: true },
            { q: '90分钟 = ?小时?分钟', a: '1小时30分钟', wrongChoices: ['9小时0分钟', '1小时9分钟', '0小时90分钟'], isText: true },
            { q: '2天 = ?小时', a: '48', wrongChoices: ['24', '36', '72'], isText: true },
            { q: '3周 = ?天', a: '21', wrongChoices: ['30', '14', '24'], isText: true },
            { q: '48小时 = ?天', a: '2', wrongChoices: ['4', '48', '1'], isText: true },
            // 面积
            { q: '1公顷 = ?平方米', a: '10000', wrongChoices: ['1000', '100', '100000'], isText: true },
            { q: '400平方分米 = ?平方米', a: '4', wrongChoices: ['40', '0.4', '400'], isText: true },
        ],

        // ---- 困难题（22题）：大数字、多步小数、跨级换算 ----
        hard: [
            // 长度（混用千米/公里）
            { q: '0.45公里 = ?米', a: '450', wrongChoices: ['45', '4500', '4.5'], isText: true },
            { q: '3千米50米 = ?千米', a: '3.05', wrongChoices: ['3.5', '3.005', '30.5'], isText: true },
            { q: '2350米 = ?千米?米', a: '2千米350米', wrongChoices: ['23千米50米', '2千米35米', '2千米305米'], isText: true },
            { q: '1.08米 = ?厘米', a: '108', wrongChoices: ['1080', '10.8', '18'], isText: true },
            // 质量（混用千克/公斤）
            { q: '2吨50千克 = ?千克', a: '2050', wrongChoices: ['250', '2500', '20500'], isText: true },
            { q: '7650克 = ?公斤?克', a: '7公斤650克', wrongChoices: ['76公斤50克', '7公斤65克', '765公斤0克'], isText: true },
            { q: '0.3吨 = ?千克', a: '300', wrongChoices: ['30', '3000', '3'], isText: true },
            { q: '1050千克 = ?吨?千克', a: '1吨50千克', wrongChoices: ['10吨50千克', '1吨500千克', '1吨5千克'], isText: true },
            // 容积
            { q: '3.25升 = ?毫升', a: '3250', wrongChoices: ['325', '32500', '3025'], isText: true },
            { q: '2080毫升 = ?升?毫升', a: '2升80毫升', wrongChoices: ['20升80毫升', '2升800毫升', '2升8毫升'], isText: true },
            // 人民币
            { q: '15.05元 = ?元?角?分', a: '15元0角5分', wrongChoices: ['15元5角0分', '1元5角5分', '15元50角'], isText: true },
            { q: '208分 = ?元?角?分', a: '2元0角8分', wrongChoices: ['20元8角', '2元8角0分', '2元80分'], isText: true },
            // 时间（小数换算 + 跨级，从普通题移来）
            { q: '1.25小时 = ?分钟', a: '75', wrongChoices: ['125', '65', '80'], isText: true },
            { q: '1.5分钟 = ?秒', a: '90', wrongChoices: ['150', '15', '75'], isText: true },
            { q: '1小时 = ?秒', a: '3600', wrongChoices: ['360', '600', '36000'], isText: true },
            { q: '200分钟 = ?小时?分钟', a: '3小时20分钟', wrongChoices: ['2小时0分钟', '3小时2分钟', '2小时40分钟'], isText: true },
            { q: '5400秒 = ?小时?分钟', a: '1小时30分钟', wrongChoices: ['54分钟0秒', '1小时54分钟', '9小时0分钟'], isText: true },
            { q: '平年一年 = ?天', a: '365', wrongChoices: ['360', '366', '356'], isText: true },
            // 面积（跨级换算）
            { q: '2.5公顷 = ?平方米', a: '25000', wrongChoices: ['2500', '250', '250000'], isText: true },
            { q: '3平方千米 = ?公顷', a: '300', wrongChoices: ['30', '3000', '3'], isText: true },
            { q: '1平方千米 = ?公顷', a: '100', wrongChoices: ['10', '1000', '10000'], isText: true },
            { q: '3平方千米50公顷 = ?公顷', a: '350', wrongChoices: ['305', '3500', '3050'], isText: true },
        ]
    },

    // ========== 小九九速算专项（1-9 × 1-9）==========
    // 专门针对小九九表的高效训练
    xiaojiujiu: {
        // 基础复习题（穿插在难题中，保持手感）
        warmup: [
            { q: '2 × 3', a: 6 }, { q: '2 × 4', a: 8 }, { q: '2 × 5', a: 10 },
            { q: '2 × 6', a: 12 }, { q: '2 × 7', a: 14 }, { q: '2 × 8', a: 16 }, { q: '2 × 9', a: 18 },
            { q: '3 × 3', a: 9 }, { q: '3 × 4', a: 12 }, { q: '3 × 5', a: 15 },
            { q: '3 × 6', a: 18 }, { q: '3 × 7', a: 21 }, { q: '3 × 8', a: 24 }, { q: '3 × 9', a: 27 },
            { q: '4 × 4', a: 16 }, { q: '4 × 5', a: 20 }, { q: '4 × 6', a: 24 },
            { q: '5 × 5', a: 25 }, { q: '5 × 6', a: 30 }, { q: '5 × 7', a: 35 },
            { q: '5 × 8', a: 40 }, { q: '5 × 9', a: 45 },
            { q: '12 ÷ 3', a: 4 }, { q: '15 ÷ 5', a: 3 }, { q: '18 ÷ 6', a: 3 },
            { q: '21 ÷ 7', a: 3 }, { q: '24 ÷ 8', a: 3 }, { q: '27 ÷ 9', a: 3 },
            { q: '16 ÷ 4', a: 4 }, { q: '20 ÷ 5', a: 4 }, { q: '25 ÷ 5', a: 5 },
            { q: '30 ÷ 6', a: 5 }, { q: '35 ÷ 7', a: 5 }, { q: '40 ÷ 8', a: 5 },
        ],
        easy: [
            // 【重点】6-9区间最难的组合（必须反复练！）
            { q: '6 × 7', a: 42, tip: '六七四十二' },
            { q: '7 × 6', a: 42 },
            { q: '7 × 8', a: 56, tip: '七八五十六' },
            { q: '8 × 7', a: 56 },
            { q: '6 × 8', a: 48, tip: '六八四十八' },
            { q: '8 × 6', a: 48 },
            { q: '6 × 9', a: 54, tip: '六九五十四' },
            { q: '9 × 6', a: 54 },
            { q: '7 × 9', a: 63, tip: '七九六十三' },
            { q: '9 × 7', a: 63 },
            { q: '8 × 9', a: 72, tip: '八九七十二' },
            { q: '9 × 8', a: 72 },
            // 对应除法（逆向训练，巩固记忆）
            { q: '42 ÷ 6', a: 7 },
            { q: '42 ÷ 7', a: 6 },
            { q: '56 ÷ 7', a: 8 },
            { q: '56 ÷ 8', a: 7 },
            { q: '48 ÷ 6', a: 8 },
            { q: '48 ÷ 8', a: 6 },
            { q: '54 ÷ 6', a: 9 },
            { q: '54 ÷ 9', a: 6 },
            { q: '63 ÷ 7', a: 9 },
            { q: '63 ÷ 9', a: 7 },
            { q: '72 ÷ 8', a: 9 },
            { q: '72 ÷ 9', a: 8 },
            // 【填空题】缺失因数 - 强制输入模式
            { q: '6 × ? = 42', a: 7, forceInput: true },
            { q: '? × 7 = 42', a: 6, forceInput: true },
            { q: '7 × ? = 56', a: 8, forceInput: true },
            { q: '? × 8 = 56', a: 7, forceInput: true },
            { q: '6 × ? = 48', a: 8, forceInput: true },
            { q: '? × 8 = 48', a: 6, forceInput: true },
            { q: '6 × ? = 54', a: 9, forceInput: true },
            { q: '? × 9 = 54', a: 6, forceInput: true },
            { q: '7 × ? = 63', a: 9, forceInput: true },
            { q: '? × 9 = 63', a: 7, forceInput: true },
            { q: '8 × ? = 72', a: 9, forceInput: true },
            { q: '? × 9 = 72', a: 8, forceInput: true },
        ],
        normal: [
            // 完整的6-9区间训练
            { q: '6 × 6', a: 36 },
            { q: '7 × 7', a: 49 },
            { q: '8 × 8', a: 64 },
            { q: '9 × 9', a: 81 },
            { q: '6 × 7', a: 42 },
            { q: '6 × 8', a: 48 },
            { q: '6 × 9', a: 54 },
            { q: '7 × 8', a: 56 },
            { q: '7 × 9', a: 63 },
            { q: '8 × 9', a: 72 },
            // 4、5和6-9的组合（次难点）
            { q: '4 × 7', a: 28 },
            { q: '7 × 4', a: 28 },
            { q: '4 × 8', a: 32 },
            { q: '8 × 4', a: 32 },
            { q: '4 × 9', a: 36 },
            { q: '5 × 7', a: 35 },
            { q: '5 × 8', a: 40 },
            { q: '5 × 9', a: 45 },
            // 除法训练
            { q: '36 ÷ 6', a: 6 },
            { q: '49 ÷ 7', a: 7 },
            { q: '64 ÷ 8', a: 8 },
            { q: '81 ÷ 9', a: 9 },
            { q: '28 ÷ 4', a: 7 },
            { q: '28 ÷ 7', a: 4 },
            { q: '32 ÷ 4', a: 8 },
            { q: '32 ÷ 8', a: 4 },
            { q: '35 ÷ 5', a: 7 },
            { q: '35 ÷ 7', a: 5 },
            { q: '40 ÷ 5', a: 8 },
            { q: '40 ÷ 8', a: 5 },
            { q: '45 ÷ 5', a: 9 },
            { q: '45 ÷ 9', a: 5 },
            // 【填空题】缺失因数 - 普通难度
            { q: '6 × ? = 36', a: 6, forceInput: true },
            { q: '7 × ? = 49', a: 7, forceInput: true },
            { q: '8 × ? = 64', a: 8, forceInput: true },
            { q: '9 × ? = 81', a: 9, forceInput: true },
            { q: '4 × ? = 28', a: 7, forceInput: true },
            { q: '? × 7 = 28', a: 4, forceInput: true },
            { q: '4 × ? = 32', a: 8, forceInput: true },
            { q: '? × 8 = 32', a: 4, forceInput: true },
            { q: '5 × ? = 35', a: 7, forceInput: true },
            { q: '? × 7 = 35', a: 5, forceInput: true },
            { q: '5 × ? = 40', a: 8, forceInput: true },
            { q: '? × 8 = 40', a: 5, forceInput: true },
            { q: '5 × ? = 45', a: 9, forceInput: true },
            { q: '? × 9 = 45', a: 5, forceInput: true },
        ],
        hard: [
            // 全面混合训练：乘法
            { q: '3 × 7', a: 21 },
            { q: '3 × 8', a: 24 },
            { q: '3 × 9', a: 27 },
            { q: '4 × 6', a: 24 },
            { q: '4 × 7', a: 28 },
            { q: '4 × 8', a: 32 },
            { q: '4 × 9', a: 36 },
            { q: '5 × 6', a: 30 },
            { q: '5 × 7', a: 35 },
            { q: '5 × 8', a: 40 },
            { q: '5 × 9', a: 45 },
            { q: '6 × 6', a: 36 },
            { q: '6 × 7', a: 42 },
            { q: '6 × 8', a: 48 },
            { q: '6 × 9', a: 54 },
            { q: '7 × 7', a: 49 },
            { q: '7 × 8', a: 56 },
            { q: '7 × 9', a: 63 },
            { q: '8 × 8', a: 64 },
            { q: '8 × 9', a: 72 },
            { q: '9 × 9', a: 81 },
            // 全面混合训练：除法
            { q: '21 ÷ 3', a: 7 },
            { q: '21 ÷ 7', a: 3 },
            { q: '24 ÷ 3', a: 8 },
            { q: '24 ÷ 4', a: 6 },
            { q: '24 ÷ 6', a: 4 },
            { q: '24 ÷ 8', a: 3 },
            { q: '27 ÷ 3', a: 9 },
            { q: '27 ÷ 9', a: 3 },
            { q: '30 ÷ 5', a: 6 },
            { q: '30 ÷ 6', a: 5 },
            { q: '36 ÷ 4', a: 9 },
            { q: '36 ÷ 6', a: 6 },
            { q: '42 ÷ 6', a: 7 },
            { q: '42 ÷ 7', a: 6 },
            { q: '48 ÷ 6', a: 8 },
            { q: '48 ÷ 8', a: 6 },
            { q: '54 ÷ 6', a: 9 },
            { q: '54 ÷ 9', a: 6 },
            { q: '56 ÷ 7', a: 8 },
            { q: '56 ÷ 8', a: 7 },
            { q: '63 ÷ 7', a: 9 },
            { q: '63 ÷ 9', a: 7 },
            { q: '72 ÷ 8', a: 9 },
            { q: '72 ÷ 9', a: 8 },
            // 【填空题】高难度缺失因数 - 混合各种组合
            { q: '3 × ? = 21', a: 7, forceInput: true },
            { q: '? × 7 = 21', a: 3, forceInput: true },
            { q: '3 × ? = 24', a: 8, forceInput: true },
            { q: '? × 8 = 24', a: 3, forceInput: true },
            { q: '3 × ? = 27', a: 9, forceInput: true },
            { q: '? × 9 = 27', a: 3, forceInput: true },
            { q: '4 × ? = 24', a: 6, forceInput: true },
            { q: '? × 6 = 24', a: 4, forceInput: true },
            { q: '4 × ? = 36', a: 9, forceInput: true },
            { q: '? × 9 = 36', a: 4, forceInput: true },
            { q: '5 × ? = 30', a: 6, forceInput: true },
            { q: '? × 6 = 30', a: 5, forceInput: true },
            { q: '6 × ? = 42', a: 7, forceInput: true },
            { q: '6 × ? = 48', a: 8, forceInput: true },
            { q: '6 × ? = 54', a: 9, forceInput: true },
            { q: '7 × ? = 56', a: 8, forceInput: true },
            { q: '7 × ? = 63', a: 9, forceInput: true },
            { q: '8 × ? = 72', a: 9, forceInput: true },
        ]
    },

    // ========== 大九九表（11-19 × 11-19）==========
    times: {
        // 热身题：最基础的11系列
        warmup: [
            { q: '11 × 11', a: 121 },
            { q: '11 × 12', a: 132 },
            { q: '12 × 11', a: 132 },
            { q: '11 × 15', a: 165 },
            { q: '121 ÷ 11', a: 11 },
            { q: '132 ÷ 12', a: 11 },
            { q: '132 ÷ 11', a: 12 },
            { q: '165 ÷ 15', a: 11 },
        ],
        easy: [
            // 11的乘法（最简单的大九九）
            { q: '11 × 11', a: 121 },
            { q: '11 × 12', a: 132 },
            { q: '11 × 13', a: 143 },
            { q: '11 × 14', a: 154 },
            { q: '11 × 15', a: 165 },
            { q: '12 × 11', a: 132 },
            { q: '13 × 11', a: 143 },
            { q: '14 × 11', a: 154 },
            { q: '15 × 11', a: 165 },
            // 对应的除法
            { q: '121 ÷ 11', a: 11 },
            { q: '132 ÷ 11', a: 12 },
            { q: '132 ÷ 12', a: 11 },
            { q: '143 ÷ 11', a: 13 },
            { q: '143 ÷ 13', a: 11 },
            { q: '154 ÷ 11', a: 14 },
            { q: '165 ÷ 11', a: 15 },
            { q: '165 ÷ 15', a: 11 },
            // 填空题
            { q: '11 × ? = 121', a: 11, forceInput: true },
            { q: '11 × ? = 132', a: 12, forceInput: true },
            { q: '11 × ? = 143', a: 13, forceInput: true },
            { q: '? × 11 = 154', a: 14, forceInput: true },
            { q: '? × 11 = 165', a: 15, forceInput: true },
            { q: '? × 15 = 165', a: 11, forceInput: true },
        ],
        normal: [
            // 大九九：11-15的乘法
            { q: '11 × 11', a: 121 },
            { q: '11 × 12', a: 132 },
            { q: '11 × 13', a: 143 },
            { q: '11 × 14', a: 154 },
            { q: '11 × 15', a: 165 },
            { q: '12 × 12', a: 144 },
            { q: '12 × 13', a: 156 },
            { q: '12 × 14', a: 168 },
            { q: '12 × 15', a: 180 },
            { q: '13 × 13', a: 169 },
            { q: '13 × 14', a: 182 },
            { q: '13 × 15', a: 195 },
            { q: '14 × 14', a: 196 },
            { q: '14 × 15', a: 210 },
            { q: '15 × 15', a: 225 },
            // 对应除法
            { q: '121 ÷ 11', a: 11 },
            { q: '144 ÷ 12', a: 12 },
            { q: '169 ÷ 13', a: 13 },
            { q: '180 ÷ 12', a: 15 },
            { q: '180 ÷ 15', a: 12 },
            // 填空题
            { q: '12 × ? = 144', a: 12, forceInput: true },
            { q: '12 × ? = 156', a: 13, forceInput: true },
            { q: '13 × ? = 195', a: 15, forceInput: true },
            { q: '? × 14 = 196', a: 14, forceInput: true },
            { q: '? × 15 = 225', a: 15, forceInput: true },
            { q: '15 × ? = 180', a: 12, forceInput: true },
        ],
        hard: [
            // 大九九：16-19的乘法
            { q: '16 × 16', a: 256 },
            { q: '16 × 17', a: 272 },
            { q: '16 × 18', a: 288 },
            { q: '16 × 19', a: 304 },
            { q: '17 × 17', a: 289 },
            { q: '17 × 18', a: 306 },
            { q: '17 × 19', a: 323 },
            { q: '18 × 18', a: 324 },
            { q: '18 × 19', a: 342 },
            { q: '19 × 19', a: 361 },
            // 混合练习
            { q: '15 × 16', a: 240 },
            { q: '14 × 16', a: 224 },
            { q: '13 × 17', a: 221 },
            { q: '12 × 18', a: 216 },
            { q: '11 × 19', a: 209 },
            // 对应除法
            { q: '256 ÷ 16', a: 16 },
            { q: '289 ÷ 17', a: 17 },
            { q: '324 ÷ 18', a: 18 },
            { q: '361 ÷ 19', a: 19 },
            { q: '240 ÷ 15', a: 16 },
            // 填空题
            { q: '16 × ? = 256', a: 16, forceInput: true },
            { q: '17 × ? = 289', a: 17, forceInput: true },
            { q: '18 × ? = 324', a: 18, forceInput: true },
            { q: '19 × ? = 361', a: 19, forceInput: true },
            { q: '? × 16 = 304', a: 19, forceInput: true },
            { q: '? × 18 = 342', a: 19, forceInput: true },
        ]
    },

    // ========== 平方数（去掉根号题）==========
    square: {
        easy: [
            // 1-10的平方
            { q: '1 × 1', a: 1 },
            { q: '2 × 2', a: 4 },
            { q: '3 × 3', a: 9 },
            { q: '4 × 4', a: 16 },
            { q: '5 × 5', a: 25 },
            { q: '6 × 6', a: 36 },
            { q: '7 × 7', a: 49 },
            { q: '8 × 8', a: 64 },
            { q: '9 × 9', a: 81 },
            { q: '10 × 10', a: 100 },
            // 用平方表示
            { q: '5² (5的平方)', a: 25 },
            { q: '6² (6的平方)', a: 36 },
        ],
        normal: [
            // 11-15的平方（最常用）
            { q: '11 × 11', a: 121 },
            { q: '12 × 12', a: 144 },
            { q: '13 × 13', a: 169 },
            { q: '14 × 14', a: 196 },
            { q: '15 × 15', a: 225 },
            { q: '11²', a: 121 },
            { q: '12²', a: 144 },
            { q: '13²', a: 169 },
            { q: '14²', a: 196 },
            { q: '15²', a: 225 },
            // 20, 25的平方
            { q: '20 × 20', a: 400 },
            { q: '25 × 25', a: 625 },
        ],
        hard: [
            // 16-19的平方
            { q: '16 × 16', a: 256 },
            { q: '17 × 17', a: 289 },
            { q: '18 × 18', a: 324 },
            { q: '19 × 19', a: 361 },
            { q: '16²', a: 256 },
            { q: '17²', a: 289 },
            { q: '18²', a: 324 },
            { q: '19²', a: 361 },
            // 其他常用
            { q: '20²', a: 400 },
            { q: '25²', a: 625 },
            { q: '30 × 30', a: 900 },
            { q: '50 × 50', a: 2500 },
        ]
    },

    // ========== 初始化：合并平方数到大九九 ==========
    _merged: false,
    mergeSquareIntoTimes() {
        if (this._merged) return;
        this._merged = true;
        // 合并题目
        this.times.easy = this.times.easy.concat(this.square.easy);
        this.times.normal = this.times.normal.concat(this.square.normal);
        this.times.hard = this.times.hard.concat(this.square.hard);
    },

    // ========== 学习卡片内容 ==========
    learnCards: {
        xiaojiujiu: [
            {
                title: '⚠️ 最容易出错的6组（必须牢记！）',
                items: ['6×7=42', '7×8=56', '6×8=48', '6×9=54', '7×9=63', '8×9=72']
            },
            {
                title: '🔥 易混淆：42、48、54',
                items: ['6×7=42（六七四十二）', '6×8=48（六八四十八）', '6×9=54（六九五十四）', '规律：都是6的乘法，答案差6']
            },
            {
                title: '🔥 易混淆：56、63、72',
                items: ['7×8=56（七八五十六）', '7×9=63（七九六十三）', '8×9=72（八九七十二）', '规律：7和8、9的乘法']
            },
            {
                title: '🎯 9的乘法神奇规律',
                items: ['积的个位+十位=9', '9×2=18（1+8=9）', '9×7=63（6+3=9）', '9×8=72（7+2=9）', '十位比乘数小1！']
            },
            {
                title: '🎯 巧记7×8=56',
                items: ['5678顺口溜', '56=7×8', '5、6、7、8连着数']
            },
            {
                title: '🎯 巧记6×7=42',
                items: ['柳(6)树(7)上死(4)了鹅(2)', '6×7=42']
            },
            {
                title: '📊 6的乘法表',
                items: ['6×6=36', '6×7=42', '6×8=48', '6×9=54', '规律：每次加6']
            },
            {
                title: '📊 7的乘法表',
                items: ['7×6=42', '7×7=49', '7×8=56', '7×9=63', '规律：每次加7']
            },
            {
                title: '📊 8的乘法表',
                items: ['8×6=48', '8×7=56', '8×8=64', '8×9=72', '规律：每次加8']
            },
            {
                title: '📊 9的乘法表',
                items: ['9×6=54', '9×7=63', '9×8=72', '9×9=81', '规律：每次加9']
            },
            {
                title: '💡 除法口诀倒着背',
                items: ['42÷6=7，42÷7=6', '56÷7=8，56÷8=7', '48÷6=8，48÷8=6', '72÷8=9，72÷9=8']
            }
        ],
        multiply: [
            {
                title: '🎯 四大天王（必背！）',
                items: ['25×4=100', '25×8=200', '125×4=500', '125×8=1000']
            },
            {
                title: '🔢 25的朋友们',
                items: ['25×2=50', '25×12=300', '25×16=400', '25×20=500', '25×40=1000']
            },
            {
                title: '🔢 125的朋友们',
                items: ['125×2=250', '125×16=2000', '125×24=3000', '125×32=4000']
            },
            {
                title: '💡 记忆口诀',
                items: ['看到4，想到25', '看到8，想到125', '4个25是100', '8个125是1000']
            }
        ],
        fraction: [
            {
                title: '📚 分数的含义（重要！）',
                items: ['分数 = 分子 ÷ 分母', '1/2 = 1÷2 = 0.5', '3/4 = 3÷4 = 0.75', '1/8 = 1÷8 = 0.125']
            },
            {
                title: '📚 最基础的规律',
                items: ['十分之几 = 0.几', '百分之几 = 0.0几', '千分之几 = 0.00几', '分母有几个0，小数点后就有几位']
            },
            {
                title: '📚 十分之系列',
                items: ['1/10=0.1', '2/10=0.2', '3/10=0.3', '5/10=0.5', '7/10=0.7', '9/10=0.9']
            },
            {
                title: '📚 百分之系列',
                items: ['1/100=0.01', '5/100=0.05', '10/100=0.1', '25/100=0.25', '50/100=0.5', '75/100=0.75']
            },
            {
                title: '🔢 常用分数（二四五分之）',
                items: ['1/2=0.5', '1/4=0.25', '2/4=0.5', '3/4=0.75', '1/5=0.2', '2/5=0.4', '3/5=0.6', '4/5=0.8']
            },
            {
                title: '🔢 八分之系列（和125有关！）',
                items: ['1/8=0.125', '3/8=0.375', '5/8=0.625', '7/8=0.875']
            },
            {
                title: '💡 互换技巧',
                items: ['分数→小数：分子÷分母', '小数→分数：看小数位数定分母', '0.几→十分之几', '0.0几→百分之几', '能约分要约分！']
            },
            {
                title: '💡 记忆口诀',
                items: ['1/8=0.125 → 想想125', '0.125×8=1', '四分之都带25', '五分之都是0.2的倍数']
            }
        ],
        decimal: [
            {
                title: '➡️ 乘法：小数点往右移',
                items: ['×10 → 右移1位', '×100 → 右移2位', '×1000 → 右移3位']
            },
            {
                title: '⬅️ 除法：小数点往左移',
                items: ['÷10 → 左移1位', '÷100 → 左移2位', '÷1000 → 左移3位']
            },
            {
                title: '📝 例子',
                items: ['0.1×10=1', '0.01×100=1', '1÷10=0.1', '1÷100=0.01']
            },
            {
                title: '💡 口诀',
                items: ['乘法右移，除法左移', '有几个0移几位', '数字不变位置变']
            }
        ],
        times: [
            {
                title: '📊 小九九易错题',
                items: ['6×7=42', '6×8=48', '6×9=54', '7×8=56', '7×9=63', '8×9=72']
            },
            {
                title: '📊 大九九：11的乘法',
                items: ['11×11=121', '11×12=132', '11×13=143', '11×14=154', '11×15=165', '11×16=176', '11×17=187', '11×18=198', '11×19=209']
            },
            {
                title: '📊 大九九：12的乘法',
                items: ['12×12=144', '12×13=156', '12×14=168', '12×15=180', '12×16=192', '12×17=204', '12×18=216', '12×19=228']
            },
            {
                title: '📊 大九九：13的乘法',
                items: ['13×13=169', '13×14=182', '13×15=195', '13×16=208', '13×17=221', '13×18=234', '13×19=247']
            },
            {
                title: '📊 大九九：14的乘法',
                items: ['14×14=196', '14×15=210', '14×16=224', '14×17=238', '14×18=252', '14×19=266']
            },
            {
                title: '📊 大九九：15的乘法',
                items: ['15×15=225', '15×16=240', '15×17=255', '15×18=270', '15×19=285']
            },
            {
                title: '📊 大九九：16-19的乘法',
                items: ['16×16=256', '16×17=272', '16×18=288', '16×19=304', '17×17=289', '17×18=306', '17×19=323', '18×18=324', '18×19=342', '19×19=361']
            },
            {
                title: '🎯 技巧1：11的乘法最简单！',
                items: ['11×12：把1和2拉开，中间填1+2=3→132', '11×13：把1和3拉开，中间填1+3=4→143', '11×15→165，11×18→198', '记住：两头不动，中间加起来！']
            },
            {
                title: '🎯 技巧2：拆成10来算',
                items: ['12×15 = 10×15 + 2×15 = 150+30 = 180', '13×14 = 10×14 + 3×14 = 140+42 = 182', '16×17 = 10×17 + 6×17 = 170+102 = 272', '诀窍：先算10个，再加剩下的！']
            },
            {
                title: '🎯 技巧3：凑整法',
                items: ['15×12 = 15×10 + 15×2 = 150+30 = 180', '15×14 = 15×10 + 15×4 = 150+60 = 210', '25×12 = 25×4×3 = 100×3 = 300', '看到15想到"半个30"！']
            },
            {
                title: '🎯 技巧4：相同数相乘(平方)的规律',
                items: ['尾数是5的：15²→1×2=2，接25→225', '同理：25²→2×3=6，接25→625', '相邻数相乘 = 中间数² - 1', '如：12×14 = 13²-1 = 169-1 = 168']
            },
            {
                title: '🎯 技巧5：互补凑20法',
                items: ['两数加起来=20时特别好算', '11×19=209（差8，记住就好）', '12×18=216（差6）', '13×17=221，14×16=224，15×15=225', '越靠近中间(15)，积越大！']
            },
            {
                title: '🔢 1-10的平方',
                items: ['1²=1', '2²=4', '3²=9', '4²=16', '5²=25', '6²=36', '7²=49', '8²=64', '9²=81', '10²=100']
            },
            {
                title: '🔢 11-15的平方',
                items: ['11²=121', '12²=144', '13²=169', '14²=196', '15²=225']
            },
            {
                title: '🔢 16-20的平方',
                items: ['16²=256', '17²=289', '18²=324', '19²=361', '20²=400']
            },
            {
                title: '💡 平方数记忆技巧',
                items: ['15²=225：1×2=2，5²=25', '25²=625：2×3=6，5²=25', '末尾是5的平方：头×(头+1)，再接25']
            }
        ],
        unit: [
            {
                title: '📏 长度单位换算',
                items: ['1千米(公里)=1000米', '1米=10分米', '1分米=10厘米', '1厘米=10毫米', '1米=100厘米']
            },
            {
                title: '⚖️ 质量单位换算',
                items: ['1吨=1000千克(公斤)', '1千克(公斤)=1000克', '1斤=500克', '1千克=2斤', '1斤=10两']
            },
            {
                title: '🫗 容积单位换算',
                items: ['1升=1000毫升']
            },
            {
                title: '💰 人民币单位换算',
                items: ['1元=10角', '1角=10分', '1元=100分', '3.5元=35角=350分']
            },
            {
                title: '⏰ 时间单位换算',
                items: ['1小时=60分钟', '1分钟=60秒', '1小时=3600秒', '1天=24小时', '1周=7天', '1年=12个月', '平年=365天，闰年=366天']
            },
            {
                title: '📐 面积单位换算',
                items: ['1平方千米=100公顷', '1公顷=10000平方米', '1平方米=100平方分米', '1平方分米=100平方厘米', '注意：面积进率是100不是10！']
            },
            {
                title: '💡 换算口诀',
                items: ['大变小乘进率', '小变大除进率', '千米=公里，千克=公斤', '千米和米差1000', '吨和千克差1000', '时间进率是60不是100！', '面积进率是100不是10！']
            }
        ],
        square: [
            {
                title: '🔢 1-10的平方',
                items: ['1²=1', '2²=4', '3²=9', '4²=16', '5²=25', '6²=36', '7²=49', '8²=64', '9²=81', '10²=100']
            },
            {
                title: '🔢 11-15的平方',
                items: ['11²=121', '12²=144', '13²=169', '14²=196', '15²=225']
            },
            {
                title: '🔢 16-20的平方',
                items: ['16²=256', '17²=289', '18²=324', '19²=361', '20²=400']
            },
            {
                title: '💡 记忆技巧',
                items: ['15²=225：1×2=2，5²=25', '25²=625：2×3=6，5²=25', '末尾是5的平方：头×(头+1)，再接25']
            }
        ]
    },

    // ========== 成就系统 ==========
    achievements: [
        { id: 'streak_5', name: '初露锋芒', desc: '连续答对5题', icon: '⭐', condition: streak => streak >= 5 },
        { id: 'streak_10', name: '势如破竹', desc: '连续答对10题', icon: '🌟', condition: streak => streak >= 10 },
        { id: 'streak_20', name: '无人能挡', desc: '连续答对20题', icon: '💫', condition: streak => streak >= 20 },
        { id: 'streak_50', name: '神算子', desc: '连续答对50题', icon: '🏆', condition: streak => streak >= 50 },
        { id: 'daily_perfect', name: '完美挑战', desc: '每日挑战全部答对', icon: '👑', special: 'daily_perfect' },
        { id: 'daily_fast', name: '闪电侠', desc: '每日挑战30秒内完成', icon: '⚡', special: 'daily_fast' },
        { id: 'total_100', name: '百题斩', desc: '累计答对100题', icon: '💯', condition: (_, total) => total >= 100 },
        { id: 'total_500', name: '五百强', desc: '累计答对500题', icon: '🎖️', condition: (_, total) => total >= 500 },
        { id: 'total_1000', name: '千题大师', desc: '累计答对1000题', icon: '🎯', condition: (_, total) => total >= 1000 },
        // 战斗模式专属成就
        { id: 'battle_first_win', name: '初战告捷', desc: '首次完成战斗模式', icon: '⚔️', special: 'battle_first_win' },
        { id: 'battle_no_damage', name: '毫发无损', desc: '无伤通关战斗模式', icon: '🛡️', special: 'battle_no_damage' },
        { id: 'battle_dragon_slayer', name: '屠龙勇士', desc: '击败火焰龙宝宝', icon: '🐲', special: 'battle_dragon_slayer' },
        { id: 'battle_demon_king', name: '魔王终结者', desc: '击败九九魔王(困难)', icon: '👹', special: 'battle_demon_king' },
        { id: 'battle_10_combo', name: '连击大师', desc: '战斗中达成10连击', icon: '🔥', special: 'battle_10_combo' },
        { id: 'battle_speedrun', name: '速战速决', desc: '3分钟内通关简单难度', icon: '⏱️', special: 'battle_speedrun' },
        // 道具相关成就
        { id: 'item_collector', name: '收集达人', desc: '单局收集5个道具', icon: '🎒', special: 'item_collector' },
        { id: 'item_master', name: '道具大师', desc: '使用3个以上道具通关', icon: '🧙', special: 'item_master' },
        { id: 'legendary_drop', name: '传奇之运', desc: '获得传说级道具', icon: '🌟', special: 'legendary_drop' },
        { id: 'revive_hero', name: '复活英雄', desc: '使用复活草死而复生', icon: '🌿', special: 'revive_hero' },
        // 收集里程碑成就
        { id: 'collect_10', name: '初出茅庐', desc: '收集10只妖怪', icon: '📖', special: 'collect_10' },
        { id: 'collect_50', name: '妖怪猎人', desc: '收集50只妖怪', icon: '🗂️', special: 'collect_50' },
        { id: 'collect_100', name: '百妖全书', desc: '收集100只妖怪', icon: '📚', special: 'collect_100' },
        { id: 'collect_200', name: '传说收藏家', desc: '收集200只妖怪', icon: '🏛️', special: 'collect_200' },
        { id: 'collect_all', name: '万妖之主', desc: '收集全部妖怪', icon: '👑', special: 'collect_all' },
    ]
};

// ========== 生成选项（用于选择题）==========
function generateOptions(correctAnswer, isDecimal = false, isText = false) {
    const options = [correctAnswer];
    const usedValues = new Set([String(correctAnswer)]);

    // 根据答案类型生成干扰项
    if (isText) {
        const parts = String(correctAnswer).split('/');
        if (parts.length === 2) {
            // 分数形式的干扰项
            const num = parseInt(parts[0]);
            const den = parseInt(parts[1]);
            const variations = [
                `${num + 1}/${den}`,
                `${num}/${den + 2}`,
                `${num - 1 > 0 ? num - 1 : num + 2}/${den}`,
                `${num}/${den * 2}`,
                `${num * 2}/${den}`,
            ];
            for (const v of variations) {
                if (!usedValues.has(v) && options.length < 4) {
                    options.push(v);
                    usedValues.add(v);
                }
            }
        } else if (String(correctAnswer).includes('.')) {
            // 小数字符串干扰项
            const val = parseFloat(correctAnswer);
            const variations = [val * 10, val / 10, val + 0.1, val - 0.1, val + 0.05, val - 0.05].filter(v => v > 0 && v !== val);
            for (const v of variations) {
                const formatted = parseFloat(v.toFixed(4));
                const str = String(formatted);
                if (!usedValues.has(str) && options.length < 4) {
                    options.push(str);
                    usedValues.add(str);
                }
            }
        }
    } else if (isDecimal || String(correctAnswer).includes('.')) {
        // 小数干扰项 - 更合理的干扰
        const val = parseFloat(correctAnswer);
        const variations = [
            val * 10,
            val / 10,
            val + 0.1,
            val - 0.1,
            val + 0.05,
            val - 0.05,
            val * 2,
            val / 2
        ].filter(v => v > 0 && v !== val);

        for (const v of variations) {
            const formatted = Number.isInteger(v) ? v : parseFloat(v.toFixed(4));
            if (!usedValues.has(String(formatted)) && options.length < 4) {
                options.push(formatted);
                usedValues.add(String(formatted));
            }
        }
    } else {
        // 整数干扰项 - 生成更合理的干扰选项
        const val = parseInt(correctAnswer);
        let variations = [];

        // 根据数值大小生成不同范围的干扰项
        if (val <= 20) {
            variations = [val + 1, val - 1, val + 2, val - 2, val + 3, val - 3];
        } else if (val <= 100) {
            variations = [val + 2, val - 2, val + 5, val - 5, val + 10, val - 10, val + 1, val - 1];
        } else if (val <= 500) {
            variations = [val + 10, val - 10, val + 20, val - 20, val + 5, val - 5, val + 11, val - 11];
        } else {
            variations = [val + 50, val - 50, val + 100, val - 100, val + 25, val - 25];
        }

        variations = variations.filter(v => v > 0 && v !== val);

        for (const v of variations) {
            if (!usedValues.has(String(v)) && options.length < 4) {
                options.push(v);
                usedValues.add(String(v));
            }
        }
    }

    // 确保有4个选项
    while (options.length < 4) {
        const randomOffset = Math.floor(Math.random() * 10) + 1;
        const newVal = isText ? `${randomOffset}/${randomOffset + 1}` :
                       (typeof correctAnswer === 'number' ? correctAnswer + randomOffset : randomOffset);
        if (!usedValues.has(String(newVal))) {
            options.push(newVal);
            usedValues.add(String(newVal));
        }
    }

    // 随机打乱选项
    return options.sort(() => Math.random() - 0.5);
}

// 合并平方数到大九九
MathData.mergeSquareIntoTimes();

// 导出
window.MathData = MathData;
window.generateOptions = generateOptions;

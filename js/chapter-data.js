/**
 * chapter-data.js - v23.1 Chapter system configuration
 * Defines chapter structure, BOSS monsters, chapter-exclusive monsters,
 * exclusive items/weapons, and rewards.
 * v23.1: Added 33 new chapter-exclusive monsters, 6 new items, 3 new weapons,
 *        updated unlock conditions to use consecutivePerfects.
 */

// ===== Chapter BOSS Monsters =====
var chapterBossMonsters = {
    xiaojiujiu: [
        {
            id: 'xjj_ch1_boss',
            name: 'å£è¯€å®ˆé—¨äºº',
            nameEn: 'Formula Gatekeeper',
            emoji: 'ðŸ—¿',
            hp: 6,
            type: 'rock',
            attack: 'ðŸ“–',
            attackName: 'å£è¯€åŽ‹åˆ¶',
            behaviors: ['defend'],
            personality: 'defensive',
            quips: ['å£è¯€ä¸ç†Ÿï¼Œä¼‘æƒ³é€šè¿‡ï¼', 'æˆ‘å®ˆäº†åƒå¹´ï¼Œæ— äººèƒ½è¿‡ï¼', 'èƒŒä¸å‡ºæ¥å°±å›žåŽ»ï¼'],
            defendQuips: ['çŸ³å¢™åšä¸å¯æ‘§ï¼', 'åƒå¹´å®ˆæŠ¤ï¼', 'æŒ¡ï¼'],
            trait: 'å®ˆæŠ¤æ•°å­¦çŽ‹å›½å¤§é—¨åƒå¹´çš„çŸ³åƒï¼Œåªæ”¾è¡ŒæŽŒæ¡å£è¯€çš„äºº',
            traitEn: 'An ancient stone guardian that only lets those who master multiplication pass',
            story: 'ä¼ è¯´å£è¯€å®ˆé—¨äººåŽŸæœ¬æ˜¯ä¸€ä½æ•°å­¦è€å¸ˆï¼Œå› å¤ªæ‰§ç€äºŽä¹ä¹ä¹˜æ³•è¡¨è€ŒåŒ–ä¸ºçŸ³åƒï¼Œå®ˆæŠ¤ç€æ•°å­¦çŽ‹å›½çš„å¤§é—¨ã€‚åªæœ‰çœŸæ­£æŽŒæ¡åŸºç¡€å£è¯€çš„äººï¼Œæ‰èƒ½å”¤é†’ä»–å¿ƒä¸­æ®‹å­˜çš„æ¸©æŸ”ã€‚',
            storyEn: 'Legend says the Gatekeeper was once a math teacher, turned to stone by his obsession with multiplication tables.',
            isBoss: true,
            isChapterBoss: true,
            chapter: 'xjj_ch1'
        },
        {
            id: 'xjj_ch2_boss',
            name: 'é€Ÿç®—å°†å†›',
            nameEn: 'Speed General',
            emoji: 'âš”ï¸',
            hp: 8,
            type: 'fighting',
            attack: 'ðŸ’¢',
            attackName: 'ç–¾é£Žè¿žæ–©',
            behaviors: ['enrage', 'counter'],
            personality: 'violent',
            quips: ['å¤ªæ…¢äº†ï¼', 'é€Ÿåº¦å°±æ˜¯åŠ›é‡ï¼', 'çœ‹æˆ‘çš„ç–¾é£Žæ–©ï¼', 'ç®—ä¸å¿«å°±åˆ«æ¥ï¼'],
            enrageQuips: ['è¿˜ä¸å¤Ÿå¿«ï¼ï¼', 'è®©ä½ è§è¯†çœŸæ­£çš„é€Ÿåº¦ï¼', 'æ€’ï¼'],
            counterQuips: ['åå‡»ï¼', 'å¤ªå¤§æ„äº†ï¼', 'æŽ¥æ‹›ï¼'],
            trait: 'ä»¥é€Ÿåº¦è‘—ç§°çš„æ­¦å°†ï¼Œç­”é”™ä¼šé­åˆ°åå‡»',
            traitEn: 'A general known for speed, who counterattacks when you answer wrong',
            story: 'é€Ÿç®—å°†å†›æ›¾æ˜¯çŽ‹å›½æœ€å¿«çš„è®¡ç®—å¸ˆï¼Œå› è¿½æ±‚æžé™é€Ÿåº¦è€Œèµ°ç«å…¥é­”ã€‚ä»–æŒ¥èˆžåŒå‰‘ï¼Œåªå°Šé‡èƒ½è·Ÿä¸Šä»–èŠ‚å¥çš„å¯¹æ‰‹ã€‚',
            storyEn: 'The Speed General was once the kingdom\'s fastest calculator, driven mad by his pursuit of speed.',
            isBoss: true,
            isChapterBoss: true,
            chapter: 'xjj_ch2'
        },
        {
            id: 'xjj_ch3_boss',
            name: 'ä¹ä¹é­”å¸',
            nameEn: 'Emperor of Nines',
            emoji: 'ðŸ‘‘',
            hp: 10,
            type: 'dragon',
            attack: 'ðŸŒŸ',
            attackName: 'ä¹ä¹å½’ä¸€',
            behaviors: ['defend', 'summon', 'enrage', 'counter'],
            personality: 'sinister',
            quips: ['ä¹ä¹å½’ä¸€ï¼Œä¸‡æ³•å½’å®—ï¼', 'ä½ æ•¢æŒ‘æˆ˜æœ¬å¸ï¼Ÿ', 'è·ªä¸‹ï¼', 'æ•°å­¦çš„æžè‡´åœ¨æ­¤ï¼'],
            defendQuips: ['å¸çŽ‹ä¹‹ç›¾ï¼', 'ä¸å¯èƒ½æ‰“ç©¿ï¼', 'æŒ¡ï¼'],
            summonQuips: ['æ¥äººï¼æŠ¤é©¾ï¼', 'å°çš„ä»¬ï¼Œä¸Šï¼', 'æ´å†›æ— ç©·æ— å°½ï¼'],
            enrageQuips: ['ä½ æ¿€æ€’äº†æœ¬å¸ï¼', 'æ­»ï¼', 'å¤©åœ°å˜è‰²ï¼'],
            counterQuips: ['åå‡»ï¼æ„Ÿå—å¸çŽ‹ä¹‹æ€’ï¼', 'ä¸è‡ªé‡åŠ›ï¼', 'å›žæ•¬ä½ ï¼'],
            trait: 'ç»Ÿæ²»ä¹ä¹çŽ‹å›½çš„æœ€ç»ˆBOSSï¼Œæ‹¥æœ‰ä¸¤ç§å½¢æ€',
            traitEn: 'The ultimate boss ruling the Kingdom of Nines, with two powerful forms',
            story: 'ä¹ä¹é­”å¸æ˜¯æ‰€æœ‰ä¹˜æ³•å£è¯€çš„åŒ–èº«ï¼Œåªæœ‰çœŸæ­£æŽŒæ¡ä¹ä¹ä¹˜æ³•çš„å‹‡è€…æ‰èƒ½å°†å…¶æ‰“è´¥ã€‚ä¼ è¯´ä»–çš„ä¸¤ç§å½¢æ€åˆ†åˆ«ä»£è¡¨ä¹˜æ³•å’Œé™¤æ³•çš„æžè‡´åŠ›é‡ã€‚',
            storyEn: 'The Emperor of Nines is the embodiment of all multiplication tables.',
            isBoss: true,
            isChapterBoss: true,
            chapter: 'xjj_ch3',
            // Phase 2 configuration
            phase2: true,
            phase2Emoji: 'ðŸ²',
            phase2Name: 'çœŸÂ·ä¹ä¹é­”å¸',
            phase2HP: 6,
            phase2Attack: 'ðŸ’¥',
            phase2AttackName: 'ä¹ä¹å½’ä¸€Â·å¸çŽ‹ç‰ˆ',
            phase2Behaviors: ['enrage', 'counter', 'summon', 'curse'],
            phase2Quips: ['è¿™æ‰æ˜¯æœ¬å¸çš„çœŸé¢ç›®ï¼', 'å˜èº«ï¼æ„Ÿå—ç»æœ›å§ï¼', 'æ²¡æœ‰äººèƒ½æ‰“è´¥çœŸæ­£çš„é­”å¸ï¼']
        }
    ]
};

// ===== v23.1: Chapter-Exclusive Monsters (33 new) =====

// --- Chapter 1: å£è¯€ç²¾çµ (8 monsters) ---
var chapterMonsters_ch1 = [
    {
        id: 'xjj_ch1_ersan',
        name: 'äºŒä¸‰è™«',
        nameEn: 'Two-Three Caterpillar',
        emoji: 'ðŸ›',
        hp: 3,
        type: 'bug',
        attack: 'ðŸƒ',
        attackName: 'å£è¯€å¿µå¨',
        behaviors: [],
        personality: 'timid',
        quips: ['äºŒä¸‰å¾—å…­â€¦äºŒä¸‰å¾—å…­â€¦', 'åˆ«æ‰“æˆ‘å‘€â€¦', 'æˆ‘åªæ˜¯åœ¨èƒŒå£è¯€â€¦'],
        trait: 'æ€»å¿µå¨"äºŒä¸‰å¾—å…­"çš„æ¯›æ¯›è™«ï¼Œèƒ†å­å¾ˆå°',
        traitEn: 'A shy caterpillar that constantly mumbles "2Ã—3=6"',
        story: 'äºŒä¸‰è™«åŽŸæ˜¯ä¸€ç‰‡æ ‘å¶ä¸Šçš„å°æ¯›è™«ï¼Œå› ä¸ºæ—¥å¤œå¬ç€é£Žå¹è¿‡æ ‘å¶å‘å‡º"äºŒä¸‰å¾—å…­"çš„å£°éŸ³è€Œè§‰é†’äº†æ•°å­¦æ„è¯†ã€‚å®ƒçŽ°åœ¨åªä¼šèƒŒè¿™ä¸€å¥å£è¯€ï¼Œä½†èƒŒå¾—éžå¸¸è®¤çœŸã€‚',
        storyEn: 'A small caterpillar that gained math awareness from listening to leaves rustling "2Ã—3=6".',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_siwu',
        name: 'å››äº”è›™',
        nameEn: 'Four-Five Frog',
        emoji: 'ðŸ¸',
        hp: 3,
        type: 'water',
        attack: 'ðŸ’§',
        attackName: 'å‘±å‘±å£è¯€',
        behaviors: [],
        personality: 'timid',
        quips: ['å‘±ï¼å››äº”äºŒåï¼', 'å‘±å‘±â€¦ç­”é”™äº†å“¦â€¦', 'æ± å¡˜é‡Œçš„å£è¯€å¤§çŽ‹ï¼'],
        trait: 'å‘±å‘±å«ç€"å››äº”äºŒå"çš„å°é’è›™',
        traitEn: 'A frog that croaks "4Ã—5=20" from its pond',
        story: 'å››äº”è›™ä½åœ¨æ•°å­¦çŽ‹å›½çš„å£è¯€æ± å¡˜é‡Œï¼Œæ¯å¤©è·³20ä¸‹ç»ƒä¹ ä¹˜æ³•ã€‚å…¶ä»–é’è›™éƒ½è§‰å¾—å®ƒå¾ˆå¥‡æ€ªï¼Œä½†å®ƒåšä¿¡"å››äº”äºŒå"æ˜¯ä¸–ç•Œä¸Šæœ€ç¾Žçš„æ—‹å¾‹ã€‚',
        storyEn: 'A frog living in the Formula Pond that practices multiplication by jumping exactly 20 times daily.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_liuqi',
        name: 'å…­ä¸ƒè¤',
        nameEn: 'Six-Seven Firefly',
        emoji: 'ðŸª²',
        hp: 3,
        type: 'bug',
        attack: 'âœ¨',
        attackName: 'è¤å…‰é—ªçƒ',
        behaviors: ['dodge'],
        personality: 'cunning',
        quips: ['å…­ä¸ƒå››åäºŒï½žé—ªï¼', 'ä½ çœ‹å¾—åˆ°æˆ‘å—ï¼Ÿ', 'å¿½æ˜Žå¿½æš—ï¼Œç®—ä¸å‡†å§ï¼'],
        dodgeQuips: ['é—ªï¼', 'æŠ“ä¸åˆ°ï½ž', 'è¤å…‰éèµ°ï¼'],
        trait: 'å¿½æ˜Žå¿½æš—çš„è¤ç«è™«ï¼Œå–œæ¬¢"å…­ä¸ƒå››åäºŒ"',
        traitEn: 'A flickering firefly that loves "6Ã—7=42"',
        story: 'å…­ä¸ƒè¤æ˜¯å¤œæ™šå£è¯€æ£®æž—ä¸­æœ€äº®çš„è™«å­ã€‚å®ƒé—ªçƒçš„é¢‘çŽ‡æ­£å¥½æ˜¯æ¯åˆ†é’Ÿ42æ¬¡ï¼Œå¯¹åº”"å…­ä¸ƒå››åäºŒ"ã€‚æƒ³è¦æ‰“ä¸­å®ƒï¼Œå¾—å…ˆç®—å¯¹å£è¯€æ‰è¡Œï¼',
        storyEn: 'The brightest bug in the Formula Forest, flickering exactly 42 times per minute.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_baba',
        name: 'å…«å…«çŒ«',
        nameEn: 'Eight-Eight Cat',
        emoji: 'ðŸ±',
        hp: 4,
        type: 'normal',
        attack: 'ðŸ¾',
        attackName: 'çŒ«çˆªä¹±æ‹',
        behaviors: [],
        personality: 'timid',
        quips: ['å–µï½žå…«å…«å…­åå››ï¼', 'åˆ«ç¢°æˆ‘çš„æ¯›çƒï¼', 'å…­åå››æ ¹çŒ«é¡»ï¼Œä¸€æ ¹éƒ½ä¸èƒ½å°‘ï¼'],
        trait: 'çˆ±è¯´"å…«å…«å…­åå››"çš„æ©˜çŒ«ï¼Œæœ‰64æ ¹éª„å‚²çš„çŒ«é¡»',
        traitEn: 'An orange tabby cat proud of its 64 whiskers, loves "8Ã—8=64"',
        story: 'å…«å…«çŒ«æ˜¯æ•°å­¦çŽ‹å›½æœ€èƒ–çš„æ©˜çŒ«ï¼Œå®ƒæ€»è¯´è‡ªå·±æœ‰å…­åå››æ ¹çŒ«é¡»æ‰€ä»¥æœ€å°Šè´µã€‚äº‹å®žä¸Šå®ƒåªæœ‰32æ ¹ï¼Œä½†å®ƒåšæŒ"å…«å…«å…­åå››"æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚',
        storyEn: 'The fattest orange tabby in the Math Kingdom, who insists it has 64 whiskers because "8Ã—8=64".',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_jiujiu',
        name: 'ä¹ä¹é¸Ÿ',
        nameEn: 'Nine-Nine Bird',
        emoji: 'ðŸ¦',
        hp: 4,
        type: 'flying',
        attack: 'ðŸŽµ',
        attackName: 'å£è¯€æ­Œå£°',
        behaviors: ['dodge'],
        personality: 'cunning',
        quips: ['ä¹ä¹å…«åä¸€ï½žå•¾å•¾ï¼', 'é£žå¾—é«˜ç®—å¾—å¿«ï¼', 'å”±ç€å£è¯€é£žä¸Šå¤©ï¼'],
        dodgeQuips: ['é£žèµ°å•¦ï¼', 'å¤ªæ…¢äº†ï½ž', 'å•¾ï¼'],
        trait: 'å”±ç€"ä¹ä¹å…«åä¸€"çš„å°é¸Ÿï¼Œé£žè¡Œçµæ´»',
        traitEn: 'A nimble bird that sings "9Ã—9=81" while flying',
        story: 'ä¹ä¹é¸Ÿæ®è¯´æ˜¯ä¹ä¹ä¹˜æ³•è¡¨åŒ–æˆçš„ç²¾çµã€‚å®ƒåœ¨å¤©ç©ºä¸­ç”»å‡ºçš„é£žè¡Œè½¨è¿¹ï¼Œå¦‚æžœè¿žèµ·æ¥å°±æ˜¯å®Œæ•´çš„ä¹ä¹ä¹˜æ³•è¡¨ã€‚æ²¡æœ‰äººèƒ½è½»æ˜“æŠ“ä½ä¼šé£žçš„å£è¯€ï¼',
        storyEn: 'A spirit born from the multiplication table itself, its flight path traces out the entire times table.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_suanpan',
        name: 'ç®—ç›˜èœ˜è››',
        nameEn: 'Abacus Spider',
        emoji: 'ðŸ•·ï¸',
        hp: 4,
        type: 'bug',
        attack: 'ðŸ•¸ï¸',
        attackName: 'ç®—ç›˜ä¸ç½‘',
        behaviors: ['taunt'],
        personality: 'cunning',
        quips: ['æˆ‘çš„ç½‘å°±æ˜¯ç®—ç›˜ï¼', 'è¢«æˆ‘ç¼ ä½å°±ç®—ä¸å‡ºæ¥äº†ï¼', 'ä¸ä¸å…¥æ‰£ï¼Œä¸€ä¸ªéƒ½åˆ«æƒ³è·‘ï¼'],
        tauntQuips: ['æ€•äº†å§ï¼Ÿ', 'è¿™é¢˜ä½ è‚¯å®šä¸ä¼šï¼', 'å“ˆå“ˆï¼'],
        trait: 'ç”¨è››ç½‘ç»‡ç®—ç›˜çš„èœ˜è››ï¼Œä¼šå˜²è®½å¹²æ‰°ä½ ',
        traitEn: 'A spider that weaves abacus patterns with its web and taunts its opponents',
        story: 'ç®—ç›˜èœ˜è››çš„ç¥–å…ˆæ›¾æ˜¯ä¸€æŠŠå¤è€çš„ç®—ç›˜ï¼Œè¢«é—å¼ƒåœ¨è§’è½é‡Œç”Ÿäº†èœ˜è››ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œèœ˜è››å­¦ä¼šäº†ç”¨è››ä¸ç¼–ç»‡ç®—ç›˜ï¼Œè¿˜çˆ±å˜²ç¬‘ç®—é”™çš„äººã€‚',
        storyEn: 'Descendant of a spider that lived on an abandoned abacus, it learned to weave calculation webs.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_koujue',
        name: 'å£è¯€å°ç²¾çµ',
        nameEn: 'Formula Sprite',
        emoji: 'ðŸ§š',
        hp: 3,
        type: 'fairy',
        attack: 'ðŸ’«',
        attackName: 'å£è¯€ä¹‹å…‰',
        behaviors: [],
        personality: 'timid',
        quips: ['å£è¯€ï½žå£è¯€ï½ž', 'æ•°å­—åœ¨å‘å…‰ï¼', 'è®°ä½å£è¯€å°±ä¸æ€•æˆ‘å•¦ï¼'],
        trait: 'æ¼‚æµ®çš„å£è¯€åŒ–èº«ï¼Œæ¸©æŸ”ä½†éœ€è¦è¢«ç­”å¯¹æ‰ä¼šæ¶ˆæ•£',
        traitEn: 'A floating embodiment of multiplication formulas, gentle but persistent',
        story: 'å£è¯€å°ç²¾çµæ˜¯ä¹˜æ³•å£è¯€å‡èšè€Œæˆçš„å…‰ä¹‹ç”Ÿç‰©ã€‚å®ƒä¸ä¼šæ”»å‡»äººï¼Œåªæ˜¯é»˜é»˜é£˜æµ®ç€ï¼Œç­‰å¾…æœ‰äººæ­£ç¡®åœ°èƒŒå‡ºå®ƒä»£è¡¨çš„å£è¯€ã€‚ç­”å¯¹äº†ï¼Œå®ƒå°±ä¼šåŒ–ä¸ºå…‰èŠ’æ¶ˆæ•£ã€‚',
        storyEn: 'A luminous creature formed from condensed multiplication formulas, waiting for someone to recite correctly.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    },
    {
        id: 'xjj_ch1_shuxue',
        name: 'æ•°å­—æ³¥äºº',
        nameEn: 'Number Golem',
        emoji: 'ðŸ§±',
        hp: 4,
        type: 'rock',
        attack: 'ðŸ§±',
        attackName: 'æ•°å­—ç –å—',
        behaviors: ['defend'],
        personality: 'defensive',
        quips: ['æˆ‘æ˜¯æ•°å­—å †æˆçš„ï¼', 'æ‰“ä¸åŠ¨çš„ï¼', '1234â€¦ç»„åˆèµ·æ¥åŠ›é‡æ— ç©·ï¼'],
        defendQuips: ['ç¡¬å¦‚ç£çŸ³ï¼', 'æ•°å­—ä¹‹å¢™ï¼', 'æŒ¡ä½ï¼'],
        trait: 'ç”±æ•°å­—å †å è€Œæˆçš„æ³¥äººï¼Œé˜²å¾¡åŠ›é«˜',
        traitEn: 'A golem made of stacked numbers with high defense',
        story: 'æ•°å­—æ³¥äººæ˜¯ç”±åšé”™çš„ç®—æœ¯é¢˜å †ç§¯è€Œæˆçš„ã€‚æ¯ä¸€å—ç –ä¸Šéƒ½å†™ç€ä¸€ä¸ªè¢«ç­”é”™çš„æ•°å­—ï¼Œå®ƒçš„ä½¿å‘½æ˜¯é˜»æ­¢ä¸è®¤çœŸå­¦ä¹ çš„äººé€šè¿‡ã€‚åªæœ‰ç­”å¯¹é¢˜ç›®æ‰èƒ½å‰Šå¼±å®ƒçš„ç –å¢™ã€‚',
        storyEn: 'A golem built from incorrectly answered math problems, blocking those who don\'t study seriously.',
        isChapterMonster: true,
        chapter: 'xjj_ch1'
    }
];

// --- Chapter 2: é€Ÿç®—æ­¦å£« (12 monsters) ---
var chapterMonsters_ch2 = [
    {
        id: 'xjj_ch2_shuriken',
        name: 'æ‰‹é‡Œå‰‘é¼ ',
        nameEn: 'Shuriken Mouse',
        emoji: 'ðŸ­',
        hp: 4,
        type: 'fighting',
        attack: 'ðŸŒ€',
        attackName: 'æ•°å­—æ‰‹é‡Œå‰‘',
        behaviors: ['dodge'],
        personality: 'cunning',
        quips: ['æŽ¥æ‹›ï¼æ•°å­—æ‰‹é‡Œå‰‘ï¼', 'å¿«å¦‚é—ªç”µï¼', 'å¿è€…é¼ å‚ä¸Šï¼'],
        dodgeQuips: ['å½±éï¼', 'å¤ªæ…¢äº†ï¼', 'é—ªå¼€ï¼'],
        trait: 'æŠ•æŽ·æ•°å­—æ‰‹é‡Œå‰‘çš„å¿è€…é¼ ï¼Œé€Ÿåº¦æžå¿«',
        traitEn: 'A ninja mouse that throws number-engraved shuriken at lightning speed',
        story: 'æ‰‹é‡Œå‰‘é¼ æ˜¯é€Ÿç®—é“åœºçš„ä¼˜ç§€å¼Ÿå­ï¼Œå®ƒå°†ä¹˜æ³•å£è¯€åˆ»åœ¨æ‰‹é‡Œå‰‘ä¸Šï¼Œæ¯ä¸€å‡»éƒ½å¸¦ç€æ•°å­¦çš„åŠ›é‡ã€‚æ®è¯´å®ƒæŠ•å‡ºæ‰‹é‡Œå‰‘çš„é€Ÿåº¦å’Œç®—é¢˜ä¸€æ ·å¿«ã€‚',
        storyEn: 'A top student at the Speed Math Dojo who engraves multiplication formulas on shuriken.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_hayabusa',
        name: 'éš¼é£Žèœ‚',
        nameEn: 'Falcon Wasp',
        emoji: 'ðŸ',
        hp: 4,
        type: 'flying',
        attack: 'ðŸ’¨',
        attackName: 'ç–¾é£Žèœ‡åˆº',
        behaviors: ['dodge'],
        personality: 'cunning',
        quips: ['å—¡ï¼é€Ÿåº¦å°±æ˜¯ä¸€åˆ‡ï¼', 'æ¯”é£Žè¿˜å¿«ï¼', 'ä½ è·Ÿå¾—ä¸Šæˆ‘å—ï¼Ÿ'],
        dodgeQuips: ['å—¡å—¡ï½žé—ªï¼', 'æŠ“ä¸åˆ°ï¼', 'å¤ªæ…¢äº†ï¼'],
        trait: 'ç–¾é£Žèˆ¬çš„æ•°å­¦é»„èœ‚ï¼Œé£žè¡Œé€Ÿåº¦æžå¿«',
        traitEn: 'A mathematical wasp that flies faster than the wind',
        story: 'éš¼é£Žèœ‚å¾—åäºŽå®ƒå ªæ¯”çŒŽéš¼çš„é£žè¡Œé€Ÿåº¦ã€‚åœ¨é€Ÿç®—æˆ˜åœºä¸Šï¼Œå®ƒæ˜¯æœ€ä»¤äººå¤´ç–¼çš„å¯¹æ‰‹â€”â€”ä¸ä»…é£žå¾—å¿«ï¼Œè¿˜ä¼šåœ¨ä½ çŠ¹è±«çš„çž¬é—´å‘åŠ¨æ”»å‡»ã€‚',
        storyEn: 'Named after the peregrine falcon for its incredible speed, it attacks the moment you hesitate.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_kenshi',
        name: 'å‰‘é½¿è™Ž',
        nameEn: 'Saber Tiger',
        emoji: 'ðŸ¯',
        hp: 5,
        type: 'fighting',
        attack: 'âš”ï¸',
        attackName: 'ä¹˜æ³•å‰‘å‡»',
        behaviors: ['enrage'],
        personality: 'violent',
        quips: ['ä¹˜æ³•ä¹‹å‰‘ï¼æ–©ï¼', 'çœ‹æˆ‘çš„åˆ©é½¿ï¼', 'è°æ•¢æŒ¡è·¯ï¼'],
        enrageQuips: ['æ€’å¼ï¼ï¼', 'åŠ›é‡æš´æ¶¨ï¼', 'ä¸å¯é˜»æŒ¡ï¼'],
        trait: 'æŒ¥èˆžä¹˜æ³•ä¹‹å‰‘çš„å‰‘é½¿è™Žï¼Œæš´æ€’æ—¶æ”»å‡»ç¿»å€',
        traitEn: 'A saber-toothed tiger wielding the Sword of Multiplication, doubles attack when enraged',
        story: 'å‰‘é½¿è™Žæ˜¯é€Ÿç®—å°†å†›çš„å…ˆé”‹æˆ˜å£«ï¼Œå®ƒçš„ä¸¤é¢—å‰‘é½¿è±¡å¾ç€ä¹˜æ³•ä¸­çš„ä¸¤ä¸ªå› æ•°ã€‚å½“å®ƒæš´æ€’æ—¶ï¼Œä¸¤é¢—å‰‘é½¿å‘å‡ºé‡‘å…‰ï¼Œæ”»å‡»åŠ›æˆå€å¢žé•¿ã€‚',
        storyEn: 'The Speed General\'s vanguard, its two saber teeth represent the two factors in multiplication.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_ninja',
        name: 'å¿ç®—è€…',
        nameEn: 'Ninja Calculator',
        emoji: 'ðŸ¥·',
        hp: 5,
        type: 'dark',
        attack: 'ðŸŒ‘',
        attackName: 'æš—ç®—æœ¯',
        behaviors: ['dodge', 'taunt'],
        personality: 'cunning',
        quips: ['éšèº«ï¼çœ‹ä¸è§æˆ‘å§ï¼Ÿ', 'æš—ç®—æ‰æ˜¯æœ€é«˜å¢ƒç•Œï¼', 'ä»Žå½±ä¸­è®¡ç®—ï¼'],
        dodgeQuips: ['å½±éæœ¯ï¼', 'æ¶ˆå¤±ï¼', 'æ— å½±æ— è¸ªï¼'],
        tauntQuips: ['è¿™é¢˜ä½ ä¸€å®šç®—é”™ï¼', 'æ”¾å¼ƒå§ï¼', 'å¿ƒç®—æ¯”ä½ å¿«åå€ï¼'],
        trait: 'éšèº«çš„é€Ÿç®—å¿è€…ï¼Œä¼šé—ªé¿å’Œå˜²è®½',
        traitEn: 'An invisible speed-calculation ninja who dodges and taunts',
        story: 'å¿ç®—è€…ä¿®ä¹ çš„æ˜¯"æš—ç®—æµ"å¿æœ¯â€”â€”åœ¨æ•Œäººçœ‹ä¸è§çš„åœ°æ–¹å®Œæˆæ‰€æœ‰è®¡ç®—ã€‚å®ƒçš„å˜²è®½ä¸æ˜¯ä¸ºäº†æ¶æ„ï¼Œè€Œæ˜¯ä¸ºäº†æµ‹è¯•å¯¹æ‰‹çš„å¿ƒç†ç´ è´¨ã€‚',
        storyEn: 'A ninja who practices the art of "shadow calculation", testing opponents\' mental fortitude.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_senshi',
        name: 'ç›¾ç”²é¾Ÿ',
        nameEn: 'Shield Tortoise',
        emoji: 'ðŸ¢',
        hp: 6,
        type: 'rock',
        attack: 'ðŸ›¡ï¸',
        attackName: 'å£è¯€æŠ¤ç›¾',
        behaviors: ['defend'],
        personality: 'defensive',
        quips: ['æˆ‘çš„å£³ä¸Šåˆ»æ»¡äº†å£è¯€ï¼', 'æ…¢æ…¢æ¥ï¼Œé˜²å¾¡ç¬¬ä¸€ï¼', 'æ‰“ä¸ç ´æˆ‘çš„å£³ï¼'],
        defendQuips: ['é¾Ÿå£³é˜²å¾¡ï¼', 'åšä¸å¯æ‘§ï¼', 'æŒ¡ä½äº†ï¼'],
        trait: 'èƒŒå£³åˆ»æ»¡å£è¯€çš„ä¹Œé¾Ÿï¼Œé˜²å¾¡æžé«˜',
        traitEn: 'A tortoise with multiplication tables carved on its shell, extremely high defense',
        story: 'ç›¾ç”²é¾Ÿçš„é¾Ÿå£³ä¸Šåˆ»ç€å®Œæ•´çš„ä¹ä¹ä¹˜æ³•è¡¨ï¼Œæ˜¯é€Ÿç®—æˆ˜åœºä¸Šæœ€åšå›ºçš„é˜²çº¿ã€‚æ®è¯´åªæœ‰å…¨å¯¹çš„ç­”æ¡ˆæ‰èƒ½ç©¿é€å®ƒçš„å£è¯€é˜²å£³ã€‚',
        storyEn: 'Its shell bears the complete multiplication table, forming the battlefield\'s strongest defense.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_raijin',
        name: 'é›·ç®—å…½',
        nameEn: 'Thunder Calculator',
        emoji: 'âš¡',
        hp: 5,
        type: 'electric',
        attack: 'âš¡',
        attackName: 'é—ªç”µé€Ÿç®—',
        behaviors: ['enrage'],
        personality: 'violent',
        quips: ['é—ªç”µèˆ¬çš„é€Ÿåº¦ï¼', 'ç”µå…‰ç«çŸ³ä¹‹é—´ï¼', 'é›·é¸£ï¼'],
        enrageQuips: ['é›·éœ†ä¸‡é’§ï¼', 'ç”µåŠ›å…¨å¼€ï¼', 'è½°ï¼'],
        trait: 'ä»¥é—ªç”µé€Ÿåº¦å‡ºé¢˜çš„é›·å…½ï¼Œæš´æ€’æ—¶ç”µå…‰å››å°„',
        traitEn: 'A thunder beast that poses questions at lightning speed',
        story: 'é›·ç®—å…½ä½“å†…è•´å«ç€æ•°å­¦çš„ç”µèƒ½ã€‚å®ƒå‡ºé¢˜çš„é€Ÿåº¦å¦‚åŒé—ªç”µâ€”â€”åœ¨ä½ è¿˜æ²¡ååº”è¿‡æ¥çš„æ—¶å€™ï¼Œé¢˜ç›®å°±å·²ç»å‡ºå®Œäº†ã€‚è·Ÿä¸ä¸Šå®ƒçš„èŠ‚å¥å°±ä¼šè¢«ç”µå‡»ï¼',
        storyEn: 'A beast charged with mathematical electricity, posing questions faster than lightning.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_kaze',
        name: 'æ—‹é£Žç‹',
        nameEn: 'Whirlwind Fox',
        emoji: 'ðŸ¦Š',
        hp: 5,
        type: 'flying',
        attack: 'ðŸŒªï¸',
        attackName: 'æ•°å­—æ—‹é£Ž',
        behaviors: ['dodge'],
        personality: 'cunning',
        quips: ['æ—‹é£Žä¸­çš„æ•°å­—çœ‹å¾—æ¸…å—ï¼Ÿ', 'ç‹ç‹¸æ¯”ä½ èªæ˜Žï¼', 'å‘¼ï½žæ—‹è½¬ï¼'],
        dodgeQuips: ['é£Žéï¼', 'æ—‹è½¬é—ªé¿ï¼', 'è¿½ä¸ä¸Šï¼'],
        trait: 'å·ç€æ•°å­—æ—‹é£Žçš„ç‹ç‹¸ï¼Œçµæ´»å–„å˜',
        traitEn: 'A fox that creates whirlwinds of swirling numbers',
        story: 'æ—‹é£Žç‹èƒ½ç”¨å°¾å·´å·èµ·å¸¦æœ‰æ•°å­—çš„æ—‹é£Žï¼Œè®©é¢˜ç›®çš„æ•°å­—åœ¨é£Žä¸­æ—‹è½¬æ‰“ä¹±ã€‚åªæœ‰çœ¼ç–¾æ‰‹å¿«ã€å¿ƒç®—ç²¾å‡†çš„äººæ‰èƒ½åœ¨æ—‹é£Žä¸­çœ‹æ¸…æ­£ç¡®ç­”æ¡ˆã€‚',
        storyEn: 'A fox whose tail creates whirlwinds that scramble numbers, only sharp minds can see through.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_tetsu',
        name: 'é“å£èŸ¹',
        nameEn: 'Iron Crab',
        emoji: 'ðŸ¦€',
        hp: 6,
        type: 'steel',
        attack: 'ðŸ¦¾',
        attackName: 'é“é’³å¤¹å‡»',
        behaviors: ['defend'],
        personality: 'defensive',
        quips: ['é“å£ï¼æ— äººèƒ½ç ´ï¼', 'æˆ‘çš„é“ç”²æœ€ç¡¬ï¼', 'å¤¹ä½ä½ ï¼'],
        defendQuips: ['é’¢é“é˜²å¾¡ï¼', 'é“å£åˆæ‹¢ï¼', 'æŒ¡ï¼'],
        trait: 'é“ç”²é˜²å¾¡çš„ç®—æœ¯èžƒèŸ¹ï¼ŒåŒé’³åšå¦‚é’¢é“',
        traitEn: 'An iron-armored arithmetic crab with steel-hard pincers',
        story: 'é“å£èŸ¹çš„ç”²å£³ç”±çº¯ç²¹çš„æ•°å­¦é€»è¾‘å‡ç»“è€Œæˆï¼Œæ¯”ä»»ä½•é‡‘å±žéƒ½åšç¡¬ã€‚å®ƒçš„ä¸¤åªå¤§é’³å­åˆ†åˆ«ä»£è¡¨åŠ æ³•å’Œå‡æ³•â€”â€”ç»„åˆèµ·æ¥å°±æ˜¯ä¹˜æ³•çš„åŸºç¡€ï¼',
        storyEn: 'Its shell is crystallized mathematical logic, harder than any metal.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_honoo',
        name: 'ç„°ç®—çŒ¿',
        nameEn: 'Flame Calculator Ape',
        emoji: 'ðŸµ',
        hp: 5,
        type: 'fire',
        attack: 'ðŸ”¥',
        attackName: 'çƒˆç«é€Ÿç®—',
        behaviors: ['enrage'],
        personality: 'violent',
        quips: ['ç«ç„°åŠ é€Ÿï¼', 'ç®—å¾—æˆ‘éƒ½ç€ç«äº†ï¼', 'ç‡ƒçƒ§å§ï¼æ•°å­¦ä¹‹é­‚ï¼'],
        enrageQuips: ['ç‡ƒçƒ§æ®†å°½ï¼', 'æ€’ç«å†²å¤©ï¼', 'çƒˆç„°æš´èµ°ï¼'],
        trait: 'æ„¤æ€’æ—¶ç«ç„°åŠ é€Ÿçš„çŒ´å­ï¼Œè¶Šæ‰“è¶Šç‹‚æš´',
        traitEn: 'An ape that accelerates with flames when angry',
        story: 'ç„°ç®—çŒ¿æ˜¯é€Ÿç®—é“åœºçš„ç‹‚æˆ˜å£«ï¼Œå®ƒçš„æ„¤æ€’ä¸Žç«ç„°æˆæ­£æ¯”â€”â€”ç®—é”™çš„é¢˜è¶Šå¤šï¼Œå®ƒçš„ç«ç„°å°±è¶Šæ—ºã€‚æ®è¯´å®ƒçš„ç»ˆæžå½¢æ€æ˜¯å…¨èº«åŒ–ä¸ºç«ç„°çš„è®¡ç®—ä¹‹ç¥žã€‚',
        storyEn: 'A berserker from the Speed Math Dojo whose flames grow with each wrong answer.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_yari',
        name: 'æžªæœ¯èœ¥èœ´',
        nameEn: 'Spear Lizard',
        emoji: 'ðŸ¦Ž',
        hp: 5,
        type: 'fighting',
        attack: 'ðŸ”±',
        attackName: 'åå‡»æžªåˆº',
        behaviors: ['counter'],
        personality: 'violent',
        quips: ['çœ‹æˆ‘çš„åå‡»ï¼', 'æžªæœ¯ç²¾é€šï¼', 'æ•¢ç­”é”™å°±åˆºä½ ï¼'],
        counterQuips: ['åå‡»ï¼', 'ç ´ç»½ï¼', 'ä¸€å‡»å¿…æ€ï¼'],
        trait: 'ç²¾é€šåå‡»çš„èœ¥èœ´æ­¦å£«ï¼Œç­”é”™å¿…è¢«åˆº',
        traitEn: 'A lizard warrior master of counterattacks',
        story: 'æžªæœ¯èœ¥èœ´æ˜¯é€Ÿç®—æˆ˜åœºä¸Šæœ€ç²¾é€šåå‡»çš„æ­¦å£«ã€‚å®ƒæ‰‹ä¸­çš„é•¿æžªåˆ»ç€"ç­”é”™å³ç½š"å››ä¸ªå­—ï¼Œä»»ä½•è®¡ç®—å¤±è¯¯éƒ½ä¼šé­åˆ°å®ƒç²¾å‡†çš„åå‡»ã€‚',
        storyEn: 'The battlefield\'s counterattack master, its spear is inscribed "wrong answers will be punished".',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_kage',
        name: 'å½±åˆ†èº«è›‡',
        nameEn: 'Shadow Clone Snake',
        emoji: 'ðŸ',
        hp: 4,
        type: 'dark',
        attack: 'ðŸŒ‘',
        attackName: 'å½±åˆ†èº«æ”»å‡»',
        behaviors: ['dodge', 'taunt'],
        personality: 'cunning',
        quips: ['å“ªä¸ªæ‰æ˜¯çœŸçš„æˆ‘ï¼Ÿ', 'å˜¶ï½žåˆ†èº«æœ¯ï¼', 'å½±å­é‡Œè—ç€ç­”æ¡ˆï¼'],
        dodgeQuips: ['é‚£æ˜¯åˆ†èº«ï¼', 'å˜¶å˜¶ï½žæ¶ˆå¤±ï¼', 'æ‰“ä¸­çš„æ˜¯å½±å­ï¼'],
        tauntQuips: ['ä½ åˆ†å¾—æ¸…çœŸå‡å—ï¼Ÿ', 'è¿·æƒ‘äº†å§ï¼', 'å˜¶å˜¶å˜¶ï½ž'],
        trait: 'åˆ¶é€ å½±åˆ†èº«çš„é€Ÿç®—è›‡ï¼Œè®©äººçœŸå‡éš¾è¾¨',
        traitEn: 'A snake that creates shadow clones, making it hard to tell real from fake',
        story: 'å½±åˆ†èº«è›‡æŽŒæ¡ç€"å½±åˆ†èº«ä¹‹æœ¯"ï¼Œèƒ½åœ¨æˆ˜åœºä¸Šåˆ¶é€ å‡ºå¤šä¸ªåˆ†èº«ã€‚æ¯ä¸ªåˆ†èº«éƒ½ä¼šç»™å‡ºä¸åŒçš„ç­”æ¡ˆï¼Œåªæœ‰å‡»ä¸­çœŸèº«æ‰èƒ½é€ æˆä¼¤å®³ã€‚',
        storyEn: 'Master of the Shadow Clone technique, each clone gives a different answer.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    },
    {
        id: 'xjj_ch2_arashi',
        name: 'æš´é£Žé¹°',
        nameEn: 'Storm Eagle',
        emoji: 'ðŸ¦…',
        hp: 6,
        type: 'flying',
        attack: 'ðŸŒªï¸',
        attackName: 'æš´é£Žçªå‡»',
        behaviors: ['enrage', 'dodge'],
        personality: 'violent',
        quips: ['æš´é£Žæ¥ä¸´ï¼', 'åœ¨é£Žæš´ä¸­è®¡ç®—ï¼', 'ç¿±ç¿”ï¼'],
        enrageQuips: ['æš´é£Žæ€’å·ï¼', 'é£Žæš´å‡çº§ï¼', 'æ— æ³•é˜»æŒ¡çš„é£Žæš´ï¼'],
        dodgeQuips: ['ä¹˜é£Žé—ªé¿ï¼', 'æš´é£Žä¸­çš„å¹»å½±ï¼', 'é£žï¼'],
        trait: 'åœ¨æš´é£Žä¸­ç²¾ç¡®è®¡ç®—çš„çŒ›ç¦½ï¼Œæš´æ€’æ—¶é£Žæš´åŠ å‰§',
        traitEn: 'A raptor that calculates precisely within storms, storms intensify when enraged',
        story: 'æš´é£Žé¹°æ˜¯é€Ÿç®—æˆ˜åœºçš„ç©ºä¸­éœ¸ä¸»ã€‚å®ƒèƒ½åœ¨æœ€çŒ›çƒˆçš„æš´é£Žä¸­ä¿æŒç²¾å‡†è®¡ç®—ï¼Œè¿™ä¹Ÿæ˜¯é€Ÿç®—å°†å†›æœ€ä¿¡èµ–çš„ç©ºä¸­æˆ˜åŠ›ã€‚æŒ‘æˆ˜å®ƒéœ€è¦åŒæ—¶å…·å¤‡é€Ÿåº¦å’Œå‡†ç¡®ã€‚',
        storyEn: 'The aerial lord of the Speed Battlefield, maintaining precise calculations even in fierce storms.',
        isChapterMonster: true,
        chapter: 'xjj_ch2'
    }
];

// --- Chapter 3: é­”å¸å†›å›¢ (13 monsters) ---
var chapterMonsters_ch3 = [
    {
        id: 'xjj_ch3_golem',
        name: 'ç®—å¼é­”åƒ',
        nameEn: 'Formula Golem',
        emoji: 'ðŸ¤–',
        hp: 6,
        type: 'steel',
        attack: 'âš™ï¸',
        attackName: 'é”™è¯¯ç®—å¼å†²å‡»',
        behaviors: ['defend', 'enrage'],
        personality: 'defensive',
        quips: ['é”™è¯¯â€¦ç»„åˆâ€¦åŠ›é‡â€¦', 'æˆ‘æ˜¯é”™è¯¯çš„é›†åˆä½“ï¼', 'æ‰“ç¢Žæˆ‘éœ€è¦æ­£ç¡®ç­”æ¡ˆï¼'],
        defendQuips: ['é’¢é“ä¹‹å¢™ï¼', 'é”™è¯¯å †å ï¼', 'ä¸å¯ç©¿é€ï¼'],
        enrageQuips: ['é”™è¯¯æš´èµ°ï¼', 'ç®—å¼å´©åï¼', 'ç–¯ç‹‚è¿ç®—ï¼'],
        trait: 'ç”±é”™è¯¯ç®—å¼æ‹¼æˆçš„å·¨åž‹é­”åƒï¼Œé˜²å¾¡ä¸Žç‹‚æš´å…¼å¤‡',
        traitEn: 'A massive golem assembled from incorrect equations',
        story: 'ç®—å¼é­”åƒæ˜¯ç”±æ— æ•°å­¦ç”Ÿåšé”™çš„ç®—æœ¯é¢˜æ®‹ç‰‡æ‹¼å‡‘è€Œæˆçš„æ€ªç‰©ã€‚å®ƒçš„å­˜åœ¨æœ¬èº«å°±æ˜¯"é”™è¯¯"çš„åŒ–èº«ï¼Œåªæœ‰æ­£ç¡®çš„ç­”æ¡ˆæ‰èƒ½ç“¦è§£å®ƒçš„èº«èº¯ã€‚',
        storyEn: 'A monster assembled from countless students\' incorrect math answers.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_dragon_jr',
        name: 'å¹¼é¾™å«å…µ',
        nameEn: 'Dragon Guard Jr.',
        emoji: 'ðŸ‰',
        hp: 6,
        type: 'dragon',
        attack: 'ðŸ”¥',
        attackName: 'é¾™æ¯åç„°',
        behaviors: ['enrage'],
        personality: 'violent',
        quips: ['ä¸ºé­”å¸è€Œæˆ˜ï¼', 'é¾™æ¯ï¼', 'å°å°å‹‡è€…ï¼Œä¸è‡ªé‡åŠ›ï¼'],
        enrageQuips: ['é¾™ä¹‹æ€’ç«ï¼', 'ç‡ƒå°½ä¸€åˆ‡ï¼', 'å¼ï¼ï¼'],
        trait: 'é­”å¸åº§ä¸‹çš„å¹¼é¾™ä¾å«ï¼Œå¿ è¯šè€Œæš´çƒˆ',
        traitEn: 'A young dragon guard serving under the Emperor, loyal and fierce',
        story: 'å¹¼é¾™å«å…µæ˜¯ä¹ä¹é­”å¸äº²è‡ªå­µåŒ–çš„é¾™æ—ä¾å«ã€‚è™½ç„¶è¿˜å¹´å¹¼ï¼Œä½†å®ƒçš„é¾™æ¯å·²ç»èƒ½èžåŒ–æ™®é€šçš„è®¡ç®—é”™è¯¯ã€‚åªæœ‰å…¨å¯¹æ‰èƒ½æŠµæŒ¡ä½å®ƒçš„ç«ç„°ã€‚',
        storyEn: 'Hatched by the Emperor of Nines himself, its dragon breath melts ordinary calculation errors.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_lich',
        name: 'ç®—çµå·«å¸ˆ',
        nameEn: 'Calculation Lich',
        emoji: 'ðŸ§™',
        hp: 7,
        type: 'psychic',
        attack: 'ðŸ”®',
        attackName: 'æ··æ·†è¯…å’’',
        behaviors: ['curse', 'defend'],
        personality: 'sinister',
        quips: ['è®©ä½ çš„ç­”æ¡ˆæ‰­æ›²å§â€¦', 'è¯…å’’ï¼æ··æ·†ï¼', 'ä½ å·²ç»åˆ†ä¸æ¸…å¯¹é”™äº†â€¦'],
        curseQuips: ['è¯…å’’é™ä¸´ï¼', 'æ··æ²Œä¹‹åŠ›ï¼', 'è¿·æƒ‘ï¼'],
        defendQuips: ['é­”æ³•æŠ¤ç›¾ï¼', 'å·«å¸ˆç»“ç•Œï¼', 'æŒ¡ï¼'],
        trait: 'ç”¨è¯…å’’æ··æ·†ç­”æ¡ˆçš„å·«å¸ˆï¼Œæ“…é•¿å¿ƒç†æˆ˜',
        traitEn: 'A lich that curses to confuse answers, master of psychological warfare',
        story: 'ç®—çµå·«å¸ˆåŽŸæœ¬æ˜¯æ•°å­¦çŽ‹å›½çš„å¤§æ³•å¸ˆï¼Œè¢«é­”å¸çš„åŠ›é‡è…åŒ–åŽå •è½ä¸ºäº¡çµå·«å¸ˆã€‚å®ƒçš„è¯…å’’èƒ½è®©äººæŠŠæ­£ç¡®ç­”æ¡ˆçœ‹æˆé”™è¯¯çš„ï¼Œæ˜¯æœ€ææ€–çš„å¿ƒç†æˆ˜é«˜æ‰‹ã€‚',
        storyEn: 'Once the kingdom\'s great wizard, corrupted by the Emperor\'s power into an undead lich.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_shadow',
        name: 'æš—å½±åˆºå®¢',
        nameEn: 'Shadow Assassin',
        emoji: 'ðŸ‘¤',
        hp: 5,
        type: 'dark',
        attack: 'ðŸ—¡ï¸',
        attackName: 'æš—æ€çªè¢­',
        behaviors: ['dodge', 'counter'],
        personality: 'cunning',
        quips: ['ä»Žæš—å½±ä¸­æ¥â€¦', 'è‡´å‘½ä¸€å‡»ï¼', 'ä½ çœ‹ä¸è§æˆ‘â€¦'],
        dodgeQuips: ['æ¶ˆæ•£åœ¨æš—å½±ä¸­ï¼', 'åªæ˜¯æ®‹å½±â€¦', 'æ— å½±ï¼'],
        counterQuips: ['æš—æ€åå‡»ï¼', 'è‡´å‘½ç ´ç»½ï¼', 'ä¸€å‡»è‡´å‘½ï¼'],
        trait: 'ä»Žæš—å¤„åå‡»çš„åˆºå®¢ï¼Œé—ªé¿ä¸Žåå‡»å…¼å¤‡',
        traitEn: 'An assassin that counterattacks from the shadows',
        story: 'æš—å½±åˆºå®¢æ˜¯é­”å¸å†›å›¢ä¸­æœ€ç¥žç§˜çš„å­˜åœ¨ã€‚æ²¡äººçŸ¥é“å®ƒçš„çœŸå®žé¢ç›®ï¼ŒåªçŸ¥é“åœ¨ä½ ç­”é”™çš„çž¬é—´ï¼Œå®ƒçš„åŒ•é¦–å°±ä¼šä»Žæš—å½±ä¸­åˆºæ¥ã€‚ä¿æŒè­¦æƒ•ï¼Œä¸€é¢˜éƒ½ä¸èƒ½é”™ï¼',
        storyEn: 'The most mysterious member of the Emperor\'s legion, striking from shadows at every wrong answer.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_titan',
        name: 'æ•°å­—å·¨äºº',
        nameEn: 'Number Titan',
        emoji: 'ðŸ‘¹',
        hp: 8,
        type: 'rock',
        attack: 'ðŸ’ª',
        attackName: 'å·¨åŠ›ç ¸å‡»',
        behaviors: ['defend', 'enrage'],
        personality: 'violent',
        quips: ['ç¢¾ç¢Žä½ ï¼', 'å·¨äººä¹‹åŠ›ï¼', 'æ•°å­—çš„é‡é‡åŽ‹åž®ä½ ï¼'],
        defendQuips: ['å·¨çŸ³é˜²å¾¡ï¼', 'ä¸å¯æ’¼åŠ¨ï¼', 'æŒ¡ï¼'],
        enrageQuips: ['æš´æ€’ï¼ï¼', 'æ¯ç­ä¸€åˆ‡ï¼', 'å·¨äººä¹‹æ€’ï¼'],
        trait: 'åŠ›å¤§æ— ç©·çš„æ•°å­—å·¨äººï¼ŒHPæžé«˜',
        traitEn: 'A titan of immense power made of numbers, extremely high HP',
        story: 'æ•°å­—å·¨äººæ˜¯ç”±0åˆ°9æ‰€æœ‰æ•°å­—å †å è€Œæˆçš„åºžç„¶å¤§ç‰©ã€‚å®ƒçš„æ¯ä¸€æ­¥éƒ½ä¼šè®©å¤§åœ°éœ‡åŠ¨ï¼Œæ¯ä¸€æ‹³éƒ½å¸¦ç€æ•°å­¦çš„é‡é‡ã€‚åªæœ‰æŒç»­æ­£ç¡®çš„ç­”æ¡ˆæ‰èƒ½å‰Šå¼±å®ƒå·¨å¤§çš„èº«èº¯ã€‚',
        storyEn: 'A colossal being formed from all digits 0-9, each step shakes the earth.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_phoenix',
        name: 'ä¸æ­»é¸Ÿ',
        nameEn: 'Math Phoenix',
        emoji: 'ðŸ¦…',
        hp: 6,
        type: 'fire',
        attack: 'ðŸ”¥',
        attackName: 'æ¶…æ§ƒçƒˆç„°',
        behaviors: ['heal', 'enrage'],
        personality: 'violent',
        quips: ['æµ´ç«é‡ç”Ÿï¼', 'ç«ç„°æ°¸ä¸ç†„ç­ï¼', 'æ¶…æ§ƒï¼'],
        enrageQuips: ['æ€’ç„°ç„šå¤©ï¼', 'ç°çƒ¬ä¸­é‡ç”Ÿï¼', 'ç‡ƒçƒ§å§ï¼'],
        healQuips: ['ç”Ÿå‘½ä¹‹ç«ï¼', 'å›žå¤ï¼', 'é‡ç”Ÿï¼'],
        trait: 'è¢«å‡»å€’ä¼šå›žè¡€çš„ç«é¸Ÿï¼Œéœ€è¦è¿žç»­è¾“å‡º',
        traitEn: 'A phoenix that heals when knocked down, requiring sustained damage',
        story: 'ä¸æ­»é¸Ÿæ˜¯é­”å¸å†›å›¢ä¸­æœ€éš¾ç¼ çš„æ•Œäººâ€”â€”å®ƒèƒ½ä»Žç°çƒ¬ä¸­é‡ç”Ÿå¹¶æ¢å¤ç”Ÿå‘½ã€‚åªæœ‰è¿žç»­ç­”å¯¹é¢˜ç›®ï¼Œä¸ç»™å®ƒå–˜æ¯çš„æœºä¼šï¼Œæ‰èƒ½å½»åº•å‡»è´¥å®ƒã€‚',
        storyEn: 'The most persistent enemy, reborn from ashes. Only sustained correct answers can defeat it.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_hydra',
        name: 'ä¹å¤´è›‡',
        nameEn: 'Nine-Headed Hydra',
        emoji: 'ðŸ²',
        hp: 7,
        type: 'dragon',
        attack: 'ðŸ‰',
        attackName: 'ä¹å¤´é½æ”»',
        behaviors: ['summon', 'enrage'],
        personality: 'sinister',
        quips: ['ä¹ä¸ªå¤´ï¼Œä¹é“é¢˜ï¼', 'ç æŽ‰ä¸€ä¸ªé•¿ä¸¤ä¸ªï¼', 'ä¹ä¹ä¹‹åŠ›ï¼'],
        summonQuips: ['å†ç”Ÿä¸€å¤´ï¼', 'æ–°çš„å¤´é¢…ï¼', 'æ— ç©·æ— å°½ï¼'],
        enrageQuips: ['ä¹å¤´é½æ€’ï¼', 'å…¨éƒ¨ä¸€èµ·ä¸Šï¼', 'æ¯ç­ï¼'],
        trait: 'ç æŽ‰ä¸€å¤´é•¿å‡ºä¸¤å¤´çš„ä¹å¤´è›‡ï¼Œä¼šå¬å”¤å¢žæ´',
        traitEn: 'Cut one head and two grow back, summons reinforcements',
        story: 'ä¹å¤´è›‡æ˜¯é­”å¸æœ€å¾—æ„çš„é€ ç‰©â€”â€”ä¹ä¸ªå¤´åˆ†åˆ«ä»£è¡¨1åˆ°9çš„ä¹˜æ³•ã€‚æ¯å½“ä½ å‡»è´¥ä¸€ä¸ªå¤´ï¼Œå°±ä¼šé•¿å‡ºæ›´å¤šã€‚åªæœ‰ä¸€æ¬¡æ€§å…¨éƒ¨ç­”å¯¹ï¼Œæ‰èƒ½é˜»æ­¢å®ƒçš„å†ç”Ÿã€‚',
        storyEn: 'The Emperor\'s proudest creation, nine heads representing multiplication by 1-9.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_specter',
        name: 'å¹»æ•°å¹½çµ',
        nameEn: 'Number Specter',
        emoji: 'ðŸ‘»',
        hp: 5,
        type: 'ghost',
        attack: 'ðŸ‘»',
        attackName: 'æ•°å­—æ‰­æ›²',
        behaviors: ['dodge', 'curse'],
        personality: 'sinister',
        quips: ['æ•°å­—åœ¨æ‰­æ›²â€¦', 'å¹½çµé£˜è¿‡â€¦', 'çœ‹æ¸…æ¥šäº†å—ï¼Ÿè¿˜æ˜¯å¹»è§‰ï¼Ÿ'],
        dodgeQuips: ['ç©¿å¢™è€Œè¿‡ï¼', 'å¹½çµæ— å½¢ï¼', 'æ¶ˆå¤±â€¦'],
        curseQuips: ['æ•°å­—å¹»è±¡ï¼', 'æ··æ·†ï¼', 'ä»€ä¹ˆéƒ½çœ‹ä¸æ¸…äº†â€¦'],
        trait: 'è®©æ•°å­—æ‰­æ›²çš„å¹½çµï¼Œéš¾ä»¥å‘½ä¸­ä¸”ä¼šæ··æ·†',
        traitEn: 'A ghost that distorts numbers, hard to hit and causes confusion',
        story: 'å¹»æ•°å¹½çµæ˜¯æ­»åŽ»çš„æ•°å­¦å®¶çš„æ€¨å¿µåŒ–æˆçš„å¹½çµã€‚å®ƒèƒ½è®©ä½ çœ¼å‰çš„æ•°å­—æ‰­æ›²å˜å½¢ï¼Œ6å˜æˆ9ï¼Œ3å˜æˆ8ã€‚åœ¨å®ƒé¢å‰ä¿æŒæ¸…é†’çš„å¤´è„‘ï¼Œæ‰èƒ½çœ‹é€å¹»è±¡ã€‚',
        storyEn: 'A ghost born from a mathematician\'s grudge, distorting numbers before your eyes.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_knight',
        name: 'é»‘éª‘å£«',
        nameEn: 'Dark Knight',
        emoji: 'ðŸ‡',
        hp: 7,
        type: 'steel',
        attack: 'âš”ï¸',
        attackName: 'éª‘å£«å†²é”‹',
        behaviors: ['defend', 'counter'],
        personality: 'defensive',
        quips: ['é­”å¸äº²å«é˜Ÿï¼å‚ä¸Šï¼', 'éª‘å£«ä¹‹èª“ï¼', 'ä¸ºé­”å¸æ•ˆå¿ ï¼'],
        defendQuips: ['éª‘å£«æŠ¤ç›¾ï¼', 'é“å£é˜²å¾¡ï¼', 'ä¸åŠ¨å¦‚å±±ï¼'],
        counterQuips: ['éª‘å£«åå‡»ï¼', 'å†²é”‹ï¼', 'æŽ¥å—åˆ¶è£ï¼'],
        trait: 'é­”å¸äº²å«é˜Ÿéª‘å£«ï¼Œæ”»å®ˆå…¼å¤‡',
        traitEn: 'A knight of the Emperor\'s personal guard, balanced in offense and defense',
        story: 'é»‘éª‘å£«æ˜¯ä¹ä¹é­”å¸äº²å«é˜Ÿçš„ç²¾é”ï¼Œèº«ç©¿ç”±æ•°å­¦å…¬å¼é”»é€ çš„é“ ç”²ã€‚å®ƒçš„ä¿¡æ¡æ˜¯"é˜²å®ˆå³æ˜¯æœ€å¥½çš„æ”»å‡»"ï¼Œä»»ä½•è®¡ç®—å¤±è¯¯éƒ½ä¼šé­åˆ°å®ƒåšå®šçš„åå‡»ã€‚',
        storyEn: 'An elite of the Emperor\'s guard wearing armor forged from mathematical formulas.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_chimera',
        name: 'åˆæˆå…½',
        nameEn: 'Math Chimera',
        emoji: 'ðŸ¦',
        hp: 7,
        type: 'dragon',
        attack: 'ðŸ¦',
        attackName: 'ä¸‰å¤´è¿žå‡»',
        behaviors: ['enrage', 'dodge'],
        personality: 'violent',
        quips: ['ä¸‰ç§é‡Žå…½çš„åŠ›é‡ï¼', 'ç‹®å¤´ã€è›‡å°¾ã€é¹°ç¿¼ï¼', 'åˆæˆä¹‹åŠ›ï¼'],
        enrageQuips: ['ä¸‰å¤´é½æ€’ï¼', 'æš´èµ°ï¼', 'ä¸å¯é˜»æŒ¡ï¼'],
        dodgeQuips: ['é¹°ç¿¼é—ªé¿ï¼', 'ä¸‰å¤´åˆ‡æ¢ï¼', 'å“ªä¸ªå¤´ï¼Ÿ'],
        trait: 'å¤šç§é‡Žå…½åˆæˆçš„æ€ªç‰©ï¼Œæš´æ€’ä¸”çµæ´»',
        traitEn: 'A chimera combining multiple beasts, both enraged and agile',
        story: 'åˆæˆå…½æ˜¯é­”å¸ç”¨ä¸‰ç§æ•°å­¦æ¦‚å¿µâ€”â€”åŠ æ³•çš„ç‹®å¤´ã€ä¹˜æ³•çš„è›‡å°¾ã€é™¤æ³•çš„é¹°ç¿¼â€”â€”æ‹¼åˆè€Œæˆçš„æ€ªç‰©ã€‚ä¸‰ç§åŠ›é‡çš„ç»“åˆä½¿å®ƒæ—¢æš´çƒˆåˆçµæ´»ã€‚',
        storyEn: 'Created by the Emperor from three math concepts: addition (lion), multiplication (snake), division (eagle).',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_warlock',
        name: 'æ··æ²Œæ³•å¸ˆ',
        nameEn: 'Chaos Warlock',
        emoji: 'ðŸ”®',
        hp: 6,
        type: 'psychic',
        attack: 'ðŸŒ€',
        attackName: 'æ··æ²Œå¬å”¤',
        behaviors: ['curse', 'summon'],
        personality: 'sinister',
        quips: ['æ··æ²Œé™ä¸´ï¼', 'ç§©åºå´©åï¼', 'åœ¨æ··æ²Œä¸­è¿·å¤±å§ï¼'],
        curseQuips: ['æ··æ²Œè¯…å’’ï¼', 'æ•°å­—æ··ä¹±ï¼', 'è¿·å¤±æ–¹å‘ï¼'],
        summonQuips: ['æ··æ²Œå¬å”¤ï¼', 'ä»Žè™šç©ºä¸­æ¥ï¼', 'æ··æ²Œä»†ä»Žï¼'],
        trait: 'å¬å”¤æ··æ²Œå¹²æ‰°è®¡ç®—çš„æ³•å¸ˆï¼Œè¯…å’’ä¸Žå¬å”¤å…¼å¤‡',
        traitEn: 'A warlock that summons chaos to disrupt calculations',
        story: 'æ··æ²Œæ³•å¸ˆæŽŒæ¡ç€"æ··æ²Œæ•°å­¦"â€”â€”ä¸€ç§èƒ½è®©æ‰€æœ‰è®¡ç®—è§„åˆ™å´©åçš„ç¦å¿Œé­”æ³•ã€‚åœ¨å®ƒé¢å‰ï¼ŒåŠ æ³•å¯èƒ½å˜å‡æ³•ï¼Œä¹˜æ³•å¯èƒ½å˜é™¤æ³•ã€‚åªæœ‰åšå®šçš„æ•°å­¦åŸºç¡€æ‰èƒ½æŠµæŠ—æ··æ²Œã€‚',
        storyEn: 'Master of "Chaos Mathematics", a forbidden art that corrupts calculation rules.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_general',
        name: 'é­”å¸å…ˆé”‹',
        nameEn: 'Emperor\'s Vanguard',
        emoji: 'âš”ï¸',
        hp: 8,
        type: 'fighting',
        attack: 'ðŸ’¥',
        attackName: 'å…ˆé”‹è¿žå‡»',
        behaviors: ['enrage', 'counter', 'defend'],
        personality: 'violent',
        quips: ['é­”å¸å†›å›¢å…ˆé”‹ï¼', 'æŒ¡æˆ‘è€…æ­»ï¼', 'ä¸ºé­”å¸å¼€è·¯ï¼'],
        enrageQuips: ['å…ˆé”‹æš´èµ°ï¼', 'å…¨åŠ›çªè¿›ï¼', 'åŠ¿ä¸å¯æŒ¡ï¼'],
        counterQuips: ['å…ˆé”‹åå‡»ï¼', 'ç ´ï¼', 'æŽ¥æ‹›ï¼'],
        defendQuips: ['å…ˆé”‹ä¹‹ç›¾ï¼', 'é˜²å¾¡é˜µåž‹ï¼', 'æŒ¡ä½ï¼'],
        trait: 'é­”å¸å†›å›¢çš„å…ˆé”‹å¤§å°†ï¼Œä¸‰ç§æˆ˜æœ¯åˆ‡æ¢',
        traitEn: 'The Emperor\'s vanguard general, switches between three combat tactics',
        story: 'é­”å¸å…ˆé”‹æ˜¯ä¹ä¹é­”å¸åº§ä¸‹æœ€å¼ºçš„å°†é¢†ï¼Œç²¾é€šæ”»ã€é˜²ã€åä¸‰ç§æˆ˜æœ¯ã€‚å®ƒæ˜¯æŒ‘æˆ˜é­”å¸å‰çš„æœ€åŽè€ƒéªŒâ€”â€”èƒ½å‡»è´¥å®ƒçš„äººï¼Œæ‰æœ‰èµ„æ ¼é¢å¯¹ä¹ä¹é­”å¸æœ¬å°Šã€‚',
        storyEn: 'The Emperor\'s strongest general, master of attack, defense, and counter tactics.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    },
    {
        id: 'xjj_ch3_cerberus',
        name: 'å®ˆé—¨ä¸‰å¤´çŠ¬',
        nameEn: 'Gate Cerberus',
        emoji: 'ðŸ•',
        hp: 7,
        type: 'dark',
        attack: 'ðŸ¾',
        attackName: 'ä¸‰å¤´æ’•å’¬',
        behaviors: ['counter', 'enrage'],
        personality: 'violent',
        quips: ['æ±ªæ±ªæ±ªï¼ä¸‰ä¸ªå¤´éƒ½è¦ç­”ï¼', 'çŽ‹åº§æ®¿å‰çš„å®ˆå«ï¼', 'é€šä¸è¿‡ï¼'],
        counterQuips: ['åå’¬ï¼', 'ä¸‰å¤´åå‡»ï¼', 'ä¸è‡ªé‡åŠ›ï¼'],
        enrageQuips: ['ä¸‰å¤´é½å ï¼', 'ç‹‚æš´ï¼', 'æ’•ç¢Žä¸€åˆ‡ï¼'],
        trait: 'çŽ‹åº§æ®¿å‰æœ€åŽçš„å®ˆå«ï¼Œåå‡»å‡¶çŒ›',
        traitEn: 'The final guardian before the throne room, fierce counterattacker',
        story: 'å®ˆé—¨ä¸‰å¤´çŠ¬å®ˆæŠ¤ç€é€šå¾€é­”å¸çŽ‹åº§çš„æœ€åŽä¸€é“é—¨ã€‚å®ƒçš„ä¸‰ä¸ªå¤´åˆ†åˆ«èƒ½é—»åˆ°"çŠ¹è±«"ã€"é”™è¯¯"å’Œ"ææƒ§"çš„æ°”å‘³ã€‚åªæœ‰å¸¦ç€å…¨å¯¹çš„è‡ªä¿¡æ‰èƒ½ä»Žå®ƒé¢å‰é€šè¿‡ã€‚',
        storyEn: 'Guards the last door to the throne, its three heads smell hesitation, mistakes, and fear.',
        isChapterMonster: true,
        chapter: 'xjj_ch3'
    }
];

// ===== Chapter Exclusive Items =====
var chapterItems = {
    xiaojiujiu: [
        // Original star-reward items
        {
            id: 'xjj_ch1_stone_talisman',
            name: 'çŸ³ä¹‹æŠ¤ç¬¦',
            emoji: 'ðŸª¨',
            type: 'buff',
            effect: { shield: 1 },
            desc: 'å£è¯€åˆè¯•çºªå¿µï¼šæŠµæŒ¡1æ¬¡æ”»å‡»',
            rarity: 'rare',
            chapter: 'xjj_ch1'
        },
        {
            id: 'xjj_ch2_speed_amulet',
            name: 'ç–¾é£Žç¬¦',
            emoji: 'ðŸ’¨',
            type: 'buff',
            effect: { timeBonus: 1500 },
            desc: 'é€Ÿç®—æˆ˜åœºçºªå¿µï¼šç­”é¢˜æ—¶é—´+1.5ç§’',
            rarity: 'epic',
            chapter: 'xjj_ch2'
        },
        {
            id: 'xjj_ch3_emperor_crown',
            name: 'é­”å¸ä¹‹å† ',
            emoji: 'ðŸ‘‘',
            type: 'buff',
            effect: { allStatsUp: 2, comboBonus: 5 },
            desc: 'é­”çŽ‹æŒ‘æˆ˜çºªå¿µï¼šå…¨å±žæ€§+2ï¼Œè¿žå‡»+5',
            rarity: 'legendary',
            chapter: 'xjj_ch3'
        },
        // v23.1: New chapter drop items (2 per chapter)
        {
            id: 'xjj_ch1_abacus_bead',
            name: 'ç®—ç›˜ç ä¸²',
            emoji: 'ðŸ“¿',
            type: 'buff',
            effect: { comboBonus: 2 },
            desc: 'å£è¯€ç²¾çµçš„é¦ˆèµ ï¼šè¿žå‡»+2',
            rarity: 'rare',
            chapter: 'xjj_ch1',
            isChapterDrop: true
        },
        {
            id: 'xjj_ch1_chalk_dust',
            name: 'ç²‰ç¬”ç°',
            emoji: 'ðŸ¤',
            type: 'buff',
            effect: { timeBonus: 1000 },
            desc: 'å£è¯€ç²¾çµçš„é¦ˆèµ ï¼šç­”é¢˜æ—¶é—´+1ç§’',
            rarity: 'rare',
            chapter: 'xjj_ch1',
            isChapterDrop: true
        },
        {
            id: 'xjj_ch2_swift_scroll',
            name: 'ç–¾é£Žå·è½´',
            emoji: 'ðŸ“œ',
            type: 'buff',
            effect: { doubleHit: true },
            desc: 'é€Ÿç®—æ­¦å£«çš„ç§˜ä¼ ï¼šåŒé‡æ‰“å‡»',
            rarity: 'epic',
            chapter: 'xjj_ch2',
            isChapterDrop: true
        },
        {
            id: 'xjj_ch2_thunder_drum',
            name: 'é›·é¼“',
            emoji: 'ðŸ¥',
            type: 'buff',
            effect: { damage: 3 },
            desc: 'é€Ÿç®—æ­¦å£«çš„æˆ˜é¼“ï¼šé¢å¤–ä¼¤å®³+3',
            rarity: 'epic',
            chapter: 'xjj_ch2',
            isChapterDrop: true
        },
        {
            id: 'xjj_ch3_dragon_scale',
            name: 'é¾™é³ž',
            emoji: 'ðŸ›¡ï¸',
            type: 'buff',
            effect: { shield: 2 },
            desc: 'é­”å¸å†›å›¢çš„æˆ˜åˆ©å“ï¼šæŠ¤ç›¾+2',
            rarity: 'legendary',
            chapter: 'xjj_ch3',
            isChapterDrop: true
        },
        {
            id: 'xjj_ch3_emperor_seal',
            name: 'å¸çŽ‹å°',
            emoji: 'ðŸ”±',
            type: 'buff',
            effect: { allStatsUp: 3, critChance: 0.25 },
            desc: 'é­”å¸çš„å°ç« ï¼šå…¨å±žæ€§+3ï¼Œæš´å‡»çŽ‡25%',
            rarity: 'legendary',
            chapter: 'xjj_ch3',
            isChapterDrop: true
        }
    ]
};

// ===== Chapter Exclusive Weapons =====
var chapterWeapons = {
    xiaojiujiu: [
        // Original 3-star reward weapons
        { emoji: 'ðŸ“–', name: 'å£è¯€ä¹‹ä¹¦', weight: 10, sound: 'holy', color: '#4a90d9', chapter: 'xjj_ch1' },
        { emoji: 'âš”ï¸', name: 'å°†å†›ä¹‹å‰‘', weight: 10, sound: 'thunder', color: '#c0392b', chapter: 'xjj_ch2' },
        { emoji: 'ðŸ‘‘', name: 'å¸çŽ‹æƒæ–', weight: 12, sound: 'rainbow', color: '#f1c40f', chapter: 'xjj_ch3' }
    ]
};

// v23.1: New chapter flying weapons (added to weapon pool during chapter battles)
var chapterFlyingWeapons = {
    xiaojiujiu: [
        { emoji: 'ðŸªƒ', name: 'å£è¯€å›žæ—‹é•–', weight: 8, sound: 'wind', color: '#6c5ce7', chapter: 'xjj_ch1' },
        { emoji: 'ðŸ—¡ï¸', name: 'é€Ÿç®—å¤ªåˆ€', weight: 8, sound: 'thunder', color: '#e17055', chapter: 'xjj_ch2' },
        { emoji: 'ðŸ”±', name: 'é­”å¸ä¸‰å‰æˆŸ', weight: 10, sound: 'rainbow', color: '#fdcb6e', chapter: 'xjj_ch3' }
    ]
};

// ===== Main Chapter Configuration =====
var ChapterConfig = {
    xiaojiujiu: {
        theme: 'å¦–æ€ª',
        chapters: [
            {
                id: 'xjj_ch1',
                name: 'å£è¯€åˆè¯•',
                subtitle: 'æŽŒæ¡åŸºç¡€å£è¯€',
                icon: 'ðŸ“–',
                stageCount: 9,  // 8 chapter monsters + 1 boss
                chapterMonsters: chapterMonsters_ch1,  // v23.1: use chapter-exclusive monsters
                questionPools: ['warmup', 'easy'],
                questionRatio: { warmup: 0.3, easy: 0.7 },
                playerHP: 5,
                baseDifficulty: 'easy',
                warmupFirst: 2,  // First 2 questions are warmup
                boss: chapterBossMonsters.xiaojiujiu[0],
                unlockCondition: null,  // Always unlocked
                rewards: {
                    firstClear: { score: 50, crystals: 5 },
                    star1: { item: 'xjj_ch1_stone_talisman' },
                    star2: { crystals: 10, guaranteedCardRarity: 'R' },
                    star3: { weapon: 'xjj_ch1_book', crystals: 20 }
                }
            },
            {
                id: 'xjj_ch2',
                name: 'é€Ÿç®—æˆ˜åœº',
                subtitle: 'è€ƒéªŒé€Ÿåº¦ä¸Žå‡†ç¡®',
                icon: 'âš”ï¸',
                stageCount: 13,  // 12 chapter monsters + 1 boss
                chapterMonsters: chapterMonsters_ch2,  // v23.1: use chapter-exclusive monsters
                questionPools: ['easy', 'normal'],
                questionRatio: { easy: 0.3, normal: 0.7 },
                playerHP: 5,
                baseDifficulty: 'normal',
                forceInputAfterStage: 5,  // From stage 5, 40% chance of forceInput
                forceInputChance: 0.4,
                boss: chapterBossMonsters.xiaojiujiu[1],
                unlockCondition: { chapter: 'xjj_ch1', consecutivePerfects: 2 },  // v23.1: need 2 consecutive perfects
                rewards: {
                    firstClear: { score: 100, crystals: 10 },
                    star1: { item: 'xjj_ch2_speed_amulet' },
                    star2: { crystals: 20, guaranteedCardRarity: 'SR' },
                    star3: { weapon: 'xjj_ch2_sword', crystals: 30 }
                }
            },
            {
                id: 'xjj_ch3',
                name: 'é­”çŽ‹æŒ‘æˆ˜',
                subtitle: 'ç»ˆæžé€Ÿç®—å¤§è€ƒéªŒ',
                icon: 'ðŸ‘‘',
                stageCount: 14,  // 13 chapter monsters + 1 boss
                chapterMonsters: chapterMonsters_ch3,  // v23.1: use chapter-exclusive monsters
                questionPools: ['easy', 'normal', 'hard'],
                questionRatio: { easy: 0.1, normal: 0.25, hard: 0.65 },
                playerHP: 5,
                baseDifficulty: 'hard',
                forceInputEvery: 3,  // Every 3 questions, 1 is forceInput
                bossOnlyHard: true,  // Boss fight only uses hard questions
                boss: chapterBossMonsters.xiaojiujiu[2],
                unlockCondition: { chapter: 'xjj_ch2', consecutivePerfects: 3 },  // v23.1: need 3 consecutive perfects
                rewards: {
                    firstClear: { score: 200, crystals: 20 },
                    star1: { item: 'xjj_ch3_emperor_crown' },
                    star2: { crystals: 40, guaranteedCardRarity: 'SSR' },
                    star3: { weapon: 'xjj_ch3_scepter', crystals: 50, title: 'ä¹ä¹å¾æœè€…' }
                }
            }
        ]
    }
    // Other modules (fraction, decimal, unit, multiply, times) will be added in future versions
};

// ===== Star Rating Configuration =====
var ChapterStarConfig = {
    // Star 1 (bronze): pass with >= 50% accuracy
    star1: { accuracy: 0.50 },
    // Star 2 (silver): >= 80% accuracy
    star2: { accuracy: 0.80 },
    // Star 3 (gold): >= 95% accuracy AND no death (HP never reached 0)
    star3: { accuracy: 0.95, noDeath: true }
};

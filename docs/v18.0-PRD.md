# v18.0 PRDï¼šé­”å¹»æˆ˜æ–—åœºæ™¯è§†è§‰å¤§å‡çº§

> ç‰ˆæœ¬ï¼šv18.0 | ä»£å·ï¼šæ²‰æµ¸ä¹‹å¢ƒ | ç›®æ ‡ï¼šè®©æ¯åœºæˆ˜æ–—éƒ½åƒè¿›å…¥ä¸€ä¸ªç‹¬ç«‹çš„é­”æ³•ä¸–ç•Œ

---

## ä¸€ã€èƒŒæ™¯ä¸é—®é¢˜

### å½“å‰çŠ¶æ€ (v17.1.1)
- 4å±‚CSSåœºæ™¯ç³»ç»Ÿï¼ˆsky/far/mid/effectsï¼‰+ JSåŠ¨æ€emojiç²’å­
- 24ç§å±æ€§åœºæ™¯ï¼Œæ¯ç§æœ‰ç‹¬ç«‹é…è‰²å’ŒåŸºæœ¬å‰ªå½±
- æµ®åŠ¨emojiè£…é¥°ï¼ˆğŸ”¥â„ï¸ğŸŒŠç­‰ï¼‰

### ç”¨æˆ·åé¦ˆ
- "ä½“éªŒæ„Ÿæ²¡æœ‰ä»€ä¹ˆæ˜æ˜¾çš„å˜åŒ–"
- "çº¯ç²¹åªæ˜¯æ”¹é¢œè‰²è¿˜æ˜¯æ˜¾å¾—æœ‰ä¸€ç‚¹å•è°ƒ"
- èƒŒæ™¯éœ€è¦**æ›´åä¸½ã€æ›´é€‚åˆé­”å¹»æ‰“æ€ªä¸»é¢˜**
- éœ€è¦è®©å°æœ‹å‹è¿›æ¥æœ‰**æ–°é²œæ„Ÿ**å’Œ**æ²‰æµ¸æ„Ÿ**
- å‚è€ƒç»å…¸æ¸¸æˆä¸­ä½æ€§èƒ½æ¶ˆè€—ä½†è§†è§‰ç»å…¸çš„æ‰‹æ³•

### æ ¸å¿ƒé—®é¢˜åˆ†æ
1. **æš—è‰²å‰ªå½±åœ¨æš—è‰²èƒŒæ™¯ä¸Šå‡ ä¹ä¸å¯è§** â€” ç¼ºä¹å¯¹æ¯”åº¦å’Œå‘å…‰è¾¹ç¼˜
2. **ç¼ºå°‘å¤§å‹åŠ¨æ€å…ƒç´ ** â€” åªæœ‰å°ç‚¹/å°emojiï¼Œæ²¡æœ‰ç§»åŠ¨çš„äº‘å±‚ã€æµåŠ¨çš„å²©æµ†ç­‰å¤§ç‰¹æ•ˆ
3. **åœºæ™¯ä¹‹é—´å·®å¼‚ä¸å¤Ÿæ˜æ˜¾** â€” é…è‰²å˜åŒ–å¾®å¦™ï¼Œç¼ºä¹æ ‡å¿—æ€§è§†è§‰å…ƒç´ 
4. **æ²¡æœ‰ç¯å¢ƒå…‰æ•ˆ** â€” æ²¡æœ‰æ··åˆæ¨¡å¼ã€æ²¡æœ‰è‰²å½©æ»¤é•œï¼Œæ•´ä½“æ°›å›´ä¸å¤Ÿé­”å¹»
5. **ç¼ºä¹æ·±åº¦æ„Ÿ** â€” æ‰€æœ‰å…ƒç´ åœ¨åŒä¸€å¹³é¢ï¼Œæ²¡æœ‰çœŸæ­£çš„è§†å·®è¿åŠ¨
6. **ç¼ºå°‘ç»å…¸æ¸¸æˆçš„é‚£ç§"å‘³é“"** â€” æ²¡æœ‰è®©äººä¸€çœ¼å°±è§‰å¾—"è¿™æ˜¯ä¸ªæ¸¸æˆ"çš„è§†è§‰è¯­è¨€

---

## äºŒã€ç»å…¸æ¸¸æˆè°ƒç ”æ€»ç»“

### 2.1 è°ƒç ”èŒƒå›´

æœ¬æ¬¡è°ƒç ”è¦†ç›–äº†ä»¥ä¸‹ç»å…¸æ¸¸æˆç³»åˆ—çš„è§†è§‰æŠ€æœ¯ï¼š

| ç±»åˆ« | æ¸¸æˆ | æ ¸å¿ƒè§†è§‰ç‰¹å¾ |
|------|------|------------|
| **JRPG** | Final Fantasy (SNES) | å¤šå±‚æ¸å˜æˆ˜æ–—èƒŒæ™¯ã€ç´¢å¼•è°ƒè‰²æ¿ã€è“è‰²æ¸å˜çª—å£UI |
| **JRPG** | EarthBound (Mother 2) | è¿·å¹»åŠ¨æ€èƒŒæ™¯ã€è°ƒè‰²å¾ªç¯ã€æ°´å¹³æ‰­æ›² |
| **JRPG** | Chrono Trigger | åœºæ™¯å†…æˆ˜æ–—ï¼ˆæ— åˆ‡æ¢ï¼‰ã€16Ã—16ç²¾çµã€è°ƒè‰²æ¿åŠ¨ç”» |
| **JRPG** | Pokemon (GBA) | ç®€çº¦ä½†æ ‡å¿—æ€§çš„æˆ˜æ–—åœºæ™¯ã€ç²¾çµå¯¹å³™æ„å›¾ã€å±æ€§é…è‰² |
| **JRPG** | Dragon Quest | å…¨å±æ€ªç‰©å±•ç¤ºã€çº¯è‰²/æ¸å˜èƒŒæ™¯ |
| **GBA RPG** | Golden Sun | ä¼ª3Dç²¾çµæˆ˜æ–—ã€ç²¾è‡´æ³•æœ¯ç‰¹æ•ˆ |
| **ä¸­å›½RPG** | ä»™å‰‘å¥‡ä¾ ä¼  | æ°´å¢¨è‰²è°ƒã€45åº¦ç­‰è·è§†è§’ã€ä»™ä¾ ç¾å­¦ |
| **ä¸­å›½RPG** | æ¢¦å¹»è¥¿æ¸¸ | Qç‰ˆå¡é€šã€æ‰‹ç»˜åœºæ™¯ã€é²œè‰³è‰²å½©ã€å›åˆåˆ¶æˆ˜æ–— |
| **ä¸­å›½RPG** | å¤§è¯è¥¿æ¸¸ | æ°´å¢¨é£æ ¼ã€å†™å®æ¸©æš–è‰²å½© |
| **æ ¼æ–—/è¡—æœº** | ä¾é­‚/æ‹³çš‡ (SNK) | åƒç´ ç”»å·…å³°ã€æè‡´èƒŒæ™¯åŠ¨ç”»ã€æ°›å›´å…‰å½± |
| **è¡—æœº** | ä¸‰å›½æˆ˜çºª | ä¸­å›½å¤æˆ˜åœºã€åä¸½æ³•æœ¯ç‰¹æ•ˆã€ä¸°å¯Œè°ƒè‰²æ¿ |
| **åŠ¨ä½œ** | Mega Man (NES) | æ‰«æçº¿è§†å·®ã€è°ƒè‰²æ¿åŠ¨ç”»ã€ç²¾çµå åŠ  |
| **åŠ¨ä½œ** | æ¶é­”åŸ (SNES) | å“¥ç‰¹æ°›å›´ã€å¤šå±‚è§†å·®ã€çƒ›ç«é—ªçƒ |

### 2.2 ç»å…¸æ¸¸æˆçš„æ ¸å¿ƒè§†è§‰æ™ºæ…§

è¿™äº›æ¸¸æˆåœ¨æä½ç¡¬ä»¶æ¡ä»¶ä¸‹åˆ›é€ å‡ºä»¤äººéš¾å¿˜çš„è§†è§‰æ•ˆæœï¼Œå…¶æ ¸å¿ƒæ™ºæ…§å¯å½’çº³ä¸ºï¼š

#### â‘  è°ƒè‰²æ¿å³æ°›å›´ (Palette = Atmosphere)
- **SNES FFç³»åˆ—**ï¼šæ¯ä¸ªæˆ˜æ–—åœºæ™¯ä»…256è‰²ï¼Œä½†é€šè¿‡ç²¾å¿ƒé€‰æ‹©çš„è‰²åœæ¸å˜åˆ›é€ å‡ºç«å±±ã€æ·±æµ·ã€å†°åŸçš„ç‹¬ç‰¹æ°›å›´
- **EarthBound**ï¼šç”¨è°ƒè‰²å¾ªç¯ï¼ˆpalette cyclingï¼‰è®©é™æ€å›¾åƒäº§ç”ŸæµåŠ¨æ•ˆæœâ€”â€”æ°´é¢é—ªçƒã€ç«ç„°è·³åŠ¨ï¼Œå…¨éƒ¨0é¢å¤–å¸§åŠ¨ç”»
- **Mega Man**ï¼šç”¨NESä»…æœ‰çš„4ä¸ªèƒŒæ™¯è°ƒè‰²æ¿åšåŠ¨ç”»â€”â€”é—ªçƒçš„ç¯å…‰ä»…é å¾ªç¯åˆ‡æ¢è°ƒè‰²æ¿æ¡ç›®å®ç°
- **CSSå®ç°**ï¼šç”¨ `hue-rotate()` å’Œ CSSå˜é‡ `@keyframes` æ¨¡æ‹Ÿè°ƒè‰²å¾ªç¯ï¼Œé›¶é¢å¤–DOMå¼€é”€

#### â‘¡ å±‚æ¬¡å³æ·±åº¦ (Layers = Depth)
- **SNESè§†å·®**ï¼šMode 1æ”¯æŒ3ä¸ªèƒŒæ™¯å±‚ + HDMAåˆ†å‰²å®ç°5-7å±‚å‡è§†å·®
- **SNKæ ¼æ–—æ¸¸æˆ**ï¼šä¾é­‚/æ‹³çš‡çš„èƒŒæ™¯è¢«èª‰ä¸º"åƒç´ ç”»å·…å³°"â€”â€”5-6å±‚ç‹¬ç«‹è¿åŠ¨çš„å…ƒç´ è®©åœºæ™¯å¦‚åŒæ´»çš„æ²¹ç”»
- **CSSå®ç°**ï¼šå¤šå±‚ `<div>` é…åˆä¸åŒé€Ÿåº¦çš„ `translateX` åŠ¨ç”» = SNESé£æ ¼è§†å·®

#### â‘¢ æ ‡å¿—æ€§å…ƒç´ å³è®°å¿† (Signature = Memory)
- **Pokemon**ï¼šæ¯ç§å±æ€§éƒ½æœ‰æ ‡å¿—æ€§é…è‰²â€”â€”çœ‹åˆ°è“è‰²å°±çŸ¥é“æ˜¯æ°´ç³»ï¼Œçº¢è‰²å°±æ˜¯ç«ç³»
- **ä»™å‰‘å¥‡ä¾ ä¼ **ï¼šæ°´å¢¨è‰²è°ƒã€å·è½´çº¹æ ·ã€ä¹¦æ³•å­—ä½“â€”â€”ä¸€çœ¼å°±çŸ¥é“æ˜¯ä»™ä¾ æ¸¸æˆ
- **æ¢¦å¹»è¥¿æ¸¸**ï¼šQç‰ˆåœ†æ¶¦é€ å‹ã€é²œè‰³é…è‰²ã€ä¸­å›½ä¼ ç»Ÿçº¹æ ·è¾¹æ¡†
- **CSSå®ç°**ï¼šæ¯ç§åœºæ™¯éœ€è¦1-2ä¸ª"ä¸€çœ¼å°±è®¤å‡º"çš„æ ‡å¿—æ€§SVGè£…é¥°

#### â‘£ å°åŠ¨ç”»å¤§å›æŠ¥ (Small Animation = Big Impact)
- **æ¶é­”åŸ**ï¼šçƒ›ç«åªæ˜¯1-2å¸§é—ªçƒï¼Œä½†è®©æ•´ä¸ªåœºæ™¯"æ´»"äº†
- **ä¸‰å›½æˆ˜çºª**ï¼šèƒŒæ™¯æ——å¸œå¾®å¾®é£˜åŠ¨ã€ç«æŠŠé—ªçƒâ€”â€”ä»…ç”¨è°ƒè‰²æ¿å¾ªç¯å’Œå°‘é‡ç²¾çµ
- **Final Fantasy**ï¼šæˆ˜æ–—èƒŒæ™¯çš„ç²’å­æ•ˆæœï¼ˆé›ªèŠ±ã€ç«æ˜Ÿã€æ°´æ³¡ï¼‰æ¯ç§åªæœ‰2-3å¸§
- **CSSå®ç°**ï¼š`torch-flicker`ã€`crystal-pulse` ç­‰å¾®åŠ¨ç”»ï¼Œæ¯ä¸ªä¸è¶…è¿‡5ä¸ªå…³é”®å¸§

### 2.3 å¯ç›´æ¥ä½¿ç”¨çš„CSSæŠ€æœ¯è°ƒç ”

| # | æŠ€æœ¯ | CSSå±æ€§ | æ€§èƒ½ | ç§»åŠ¨ç«¯ | é€‚ç”¨åœºæ™¯ |
|---|------|--------|------|--------|---------|
| 1 | **å¤šè‰²åœæ¸å˜å¤©ç©º** | `linear-gradient` (10+è‰²åœ) | æä½³(0å¼€é”€) | å®Œç¾ | æ‰€æœ‰åœºæ™¯å¤©ç©º |
| 2 | **clip-pathå‰ªå½±+å‘å…‰** | `clip-path`, `drop-shadow` | æä½³ | å®Œç¾ | è¿œæ™¯/ä¸­æ™¯å»ºç­‘ |
| 3 | **mix-blend-modeå åŠ ** | `mix-blend-mode: screen/multiply` | å¥½(1-2å±‚) | å¥½ | æ°›å›´å…‰æ•ˆ |
| 4 | **CSS filteråœºæ™¯æ°›å›´** | `filter: contrast/brightness/saturate` | å¥½ | å¥½ | æ•´ä½“è‰²è°ƒ |
| 5 | **transformè§†å·®åŠ¨ç”»** | `transform: translateX`, `@keyframes` | å¥½ | å¥½ | èƒŒæ™¯å±‚æ·±åº¦ |
| 6 | **SVG data:URIå†…è”** | `background-image: url("data:image/svg+xml,...")` | æä½³ | å®Œç¾ | æ ‡å¿—æ€§è£…é¥°ç‰© |
| 7 | **box-shadowæ˜Ÿç©º** | `box-shadow` (å¤šå€¼) | å¥½(å•å±‚) | å¥½ | å¤œç©ºæ˜Ÿç©º |
| 8 | **radial-gradientå…‰æº** | `radial-gradient` | æä½³(0å¼€é”€) | å®Œç¾ | æœˆäº®ã€ç«å…‰ |
| 9 | **hue-rotateè‰²å½©å¾ªç¯** | `filter: hue-rotate()` + `@keyframes` | å¥½(GPU) | å¥½ | æ¨¡æ‹Ÿè°ƒè‰²å¾ªç¯ |
| 10 | **CRTæ‰«æçº¿ï¼ˆå¯é€‰ï¼‰** | `repeating-linear-gradient` 1pxæ¡çº¹ | ä½ | å¥½ | æ€€æ—§æ•ˆæœå åŠ  |
| 11 | **iris wipeè½¬åœº** | `@property` + `mask-image: radial-gradient` | ä½ | å¥½ | æˆ˜æ–—è¿›å…¥/é€€å‡º |
| 12 | **CSSç²¾çµåŠ¨ç”»** | `steps()` + `background-position` | æä½³ | å®Œç¾ | ç«æŠŠå¸§åŠ¨ç”» |
| 13 | **æµ®åŠ¨ä¼¤å®³æ•°å­—** | `translateY` + `opacity` + `scale` | æä½³ | å®Œç¾ | æˆ˜æ–—åé¦ˆ |
| 14 | **blur+contrastèåˆ** | `filter: blur() contrast()` | é«˜(æ…ç”¨) | æœ‰é™ | ç«ç„°èåˆæ•ˆæœ |
| 15 | **ä¸­å›½é£UIè¾¹æ¡†** | `border-image`, corner `::before/::after` | æä½³ | å®Œç¾ | æˆ˜æ–—UIé¢æ¿ |

### 2.4 ç»å…¸é…è‰²å‚è€ƒ

#### Game Boy ç»å…¸4è‰²ï¼ˆæ€€æ—§ç»¿ï¼‰
```css
:root {
  --gb-darkest:  #0f380f;
  --gb-dark:     #306230;
  --gb-light:    #8bac0f;
  --gb-lightest: #9bbc0f;
}
```

#### NES æ ¸å¿ƒè‰²
```css
:root {
  --nes-red:     #a81000;
  --nes-blue:    #0058f8;
  --nes-green:   #00a800;
  --nes-yellow:  #f8d878;
  --nes-sky:     #3cbcfc;
  --nes-purple:  #6844fc;
}
```

#### ä¸­å›½ä»™ä¾ é£é…è‰²
```css
:root {
  --ink-black:     #1a1a2e;
  --rice-paper:    #f5e6c8;
  --cinnabar-red:  #c94c4c;
  --jade-green:    #5c8a4d;
  --gold-accent:   #c9a959;
  --bronze:        #8b6914;
}
```

### 2.5 æ¨èä¸é‡‡ç”¨çš„æŠ€æœ¯

| æŠ€æœ¯ | åŸå›  |
|------|------|
| `backdrop-filter: blur()` | ç§»åŠ¨ç«¯æ€§èƒ½å·®ï¼ŒSafari å…¼å®¹æ€§ä¸ç¨³å®š |
| Canvas 2D æ¸²æŸ“ | éœ€è¦JSç»´æŠ¤æ¸²æŸ“å¾ªç¯ï¼Œä¸å½“å‰çº¯CSS/DOMæ¶æ„å†²çª |
| WebGL shader | å¤æ‚åº¦è¿‡é«˜ï¼Œä¸é€‚åˆæ•™è‚²ç±»åº”ç”¨ |
| `filter: blur()` å¤§é¢ç§¯ä½¿ç”¨ | GPUå¼€é”€å¤§ï¼Œblur > 10px åœ¨ä½ç«¯æœºä¸Šä¼šæ‰å¸§ |
| åŠ¨ç”» `background-position` | è§¦å‘ç»˜åˆ¶ï¼ˆpaintï¼‰ï¼Œä¸å¦‚ `transform` é«˜æ•ˆ |
| åŠ¨ç”» `width/height/top/left` | è§¦å‘å¸ƒå±€ï¼ˆlayoutï¼‰ï¼Œç»å¯¹ä¸ç”¨ |

---

## ä¸‰ã€æ¶æ„è®¾è®¡

### 3.1 8å±‚åœºæ™¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ .battle-arena                              â”‚
â”‚ â”œâ”€â”€ .scene-sky          (z:0) å¤šåœæ¸å˜å¤©ç©º  â”‚
â”‚ â”œâ”€â”€ .scene-stars        (z:1) æ˜Ÿç©º/å¤©ä½“ NEW â”‚
â”‚ â”œâ”€â”€ .scene-far          (z:2) è¿œæ™¯å‰ªå½±+å‘å…‰  â”‚
â”‚ â”œâ”€â”€ .scene-far-detail   (z:3) SVGè£…é¥° NEW   â”‚
â”‚ â”œâ”€â”€ .scene-mid          (z:4) ä¸­æ™¯å‰ªå½±       â”‚
â”‚ â”œâ”€â”€ .scene-mid-detail   (z:5) SVGè£…é¥° NEW   â”‚
â”‚ â”œâ”€â”€ .scene-effects      (z:6) ç²’å­ç‰¹æ•ˆ       â”‚
â”‚ â”œâ”€â”€ .scene-atmosphere   (z:7) æ°›å›´å åŠ  NEW   â”‚
â”‚ â”œâ”€â”€ .scene-element(s)   (z:8) JSåŠ¨æ€å…ƒç´      â”‚
â”‚ â”œâ”€â”€ .arena-ground       (z:9) åœ°é¢           â”‚
â”‚ â”œâ”€â”€ .hero-side          (z:10) ä¸»è§’          â”‚
â”‚ â”œâ”€â”€ .enemy-side         (z:10) æ€ªç‰©          â”‚
â”‚ â””â”€â”€ .attack-zone        (z:11) æ”»å‡»åŒºåŸŸ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ–°å¢4ä¸ªå±‚**ï¼š
- `.scene-stars` â€” æ˜Ÿç©º/å¤©ä½“å±‚ï¼ˆæœˆäº®ã€æ˜Ÿæ˜Ÿã€æå…‰ï¼‰â€” çµæ„Ÿæ¥è‡ª **SNES FFç³»åˆ—** çš„å¤šå±‚å¤©å¹•
- `.scene-far-detail` â€” è¿œæ™¯SVGè£…é¥°ï¼ˆå»ºç­‘ç»†èŠ‚ã€æ ‘å† è½®å»“ï¼‰â€” çµæ„Ÿæ¥è‡ª **SNKæ ¼æ–—æ¸¸æˆ** çš„èƒŒæ™¯å±‚
- `.scene-mid-detail` â€” ä¸­æ™¯SVGè£…é¥°ï¼ˆç«æŠŠã€æ°´æ™¶ã€èŠ±è‰ï¼‰â€” çµæ„Ÿæ¥è‡ª **æ¶é­”åŸ** çš„çƒ›ç«å’Œè£…é¥°
- `.scene-atmosphere` â€” æ°›å›´å åŠ å±‚ï¼ˆæ··åˆæ¨¡å¼å…‰æ•ˆï¼‰â€” çµæ„Ÿæ¥è‡ª **ä¸‰å›½æˆ˜çºª** çš„æ³•æœ¯å…‰æ•ˆ

### 3.2 æ¯å±‚æŠ€æœ¯æ–¹æ¡ˆ

#### Layer 0: .scene-sky â€” å¯Œæ¸å˜å¤©ç©º
**çµæ„Ÿ**ï¼šFF6çš„æˆ˜æ–—èƒŒæ™¯ç”¨æœ‰é™è°ƒè‰²æ¿é€šè¿‡ç²¾å¿ƒè‰²åœåˆ›é€ æ°›å›´
**å½“å‰**ï¼šå•ä¸€4è‰²linear-gradient
**å‡çº§**ï¼š10+è‰²åœæ¸å˜ + radial-gradientå…‰æºå åŠ 

```css
/* ç«ç³»å¤©ç©ºç¤ºä¾‹ â€” å‚è€ƒFF6ç«å±±åœºæ™¯ */
.scene-sky.fire-scene {
    background:
        /* ç«å±±å£æ–¹å‘çš„å…‰æ™• */
        radial-gradient(ellipse at 45% 85%, rgba(255,120,0,0.4) 0%, transparent 45%),
        /* å¤©ç©ºçš„çƒ­æµªæ‰­æ›²æ„Ÿ */
        radial-gradient(ellipse at 70% 30%, rgba(180,50,0,0.15) 0%, transparent 40%),
        /* å¤šè‰²åœå¤©ç©ºä¸»ä½“ */
        linear-gradient(180deg,
            #0a0200 0%,
            #1a0500 10%,
            #3a0e00 20%,
            #5a1800 35%,
            #8b2500 50%,
            #b33000 65%,
            #cc4400 75%,
            #8b2500 85%,
            #4a1200 95%,
            #1a0500 100%
        );
}
```

#### Layer 1: .scene-stars â€” å¤©ä½“ä¸æ˜Ÿç©º
**çµæ„Ÿ**ï¼šMega Man 3 çš„ Gemini Man å…³å¡æ‰«æçº¿æ˜Ÿç©ºè§†å·®
**æŠ€æœ¯**ï¼šbox-shadowæ˜Ÿç©ºåœº + radial-gradientæœˆäº®/å¤ªé˜³

å„åœºæ™¯é…ç½®ï¼š
- ç«ç³»/é¾™ç³»ï¼šæ— æ˜Ÿç©ºï¼Œç”¨çƒ­æµªå…‰æ™•
- å†°ç³»ï¼šæå…‰å¸¦(animatedæ¸å˜æ¡)
- æš—ç³»/é¬¼ç³»ï¼šå¤§æœˆäº® + ç¨€ç–æ˜Ÿç©º â€” **å‚è€ƒæ¶é­”åŸæœˆå¤œåœºæ™¯**
- è‰ç³»/å¦–ç²¾ç³»ï¼šå°æœˆäº® + è¤ç«è™«
- å…‰ç³»ï¼šå¤ªé˜³å…‰çº¿æ”¾å°„
- æ™®é€šç³»ï¼šæ ‡å‡†æ˜Ÿç©º

```css
/* é¬¼ç³»æœˆå¤œ â€” çµæ„Ÿæ¥è‡ªæ¶é­”åŸ */
.scene-stars.ghost-scene::before {
    content: '';
    position: absolute;
    top: 8%; right: 15%;
    width: 35px; height: 35px;
    border-radius: 50%;
    background: radial-gradient(circle at 60% 40%,
        rgba(255,250,220,0.95) 0%,
        rgba(255,240,180,0.6) 50%,
        transparent 70%
    );
    box-shadow:
        0 0 20px rgba(255,250,200,0.4),
        0 0 40px rgba(255,250,200,0.2),
        0 0 80px rgba(255,250,200,0.1);
}
.scene-stars.ghost-scene::after {
    /* box-shadowæ˜Ÿç©º â€” å‚è€ƒSCSSæ˜Ÿç©ºç”ŸæˆæŠ€æœ¯ */
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 2px; height: 2px;
    background: transparent;
    box-shadow:
        15px 12px 1px rgba(255,255,255,0.6),
        48px 28px 0px rgba(255,255,255,0.4),
        82px 8px 1px rgba(255,255,255,0.5),
        /* ... 20-30ä¸ªæ˜Ÿæ˜Ÿåæ ‡ ... */
        190px 25px 0px rgba(255,255,255,0.3);
    animation: twinkle-stars 5s ease-in-out infinite;
}
```

#### Layer 2-3: .scene-far + .scene-far-detail â€” è¿œæ™¯
**çµæ„Ÿ**ï¼šSNKæ ¼æ–—æ¸¸æˆçš„å¤šå±‚èƒŒæ™¯è¢«å…¬è®¤ä¸º"åƒç´ ç”»çš„å·…å³°"ï¼Œæ¯å±‚éƒ½æœ‰ç‹¬ç«‹åŠ¨æ€

**å‡çº§ç‚¹**ï¼š
1. å‰ªå½±æ·»åŠ  `filter: drop-shadow()` å‘å…‰è½®å»“ â€” è§£å†³"æš—è‰²çœ‹ä¸è§"é—®é¢˜
2. SVG data:URIç²¾ç»†å›¾å½¢ï¼ˆåŸå ¡çª—æˆ·ã€ç«å±±çº¹ç†ã€å†°æ™¶è£‚çº¹ï¼‰
3. æ…¢é€ŸdriftåŠ¨ç”»ï¼ˆ0.5-2px/sæ°´å¹³æ¼‚ç§»ï¼‰åˆ›é€ æ·±åº¦æ„Ÿ â€” æ¨¡æ‹ŸSNESè§†å·®

```css
/* å‰ªå½±å‘å…‰ â€” è®©æš—è‰²å‰ªå½±åœ¨æš—è‰²èƒŒæ™¯ä¸Šæ¸…æ™°å¯è§ */
.scene-far.fire-scene::before {
    filter: drop-shadow(0 -5px 15px rgba(255,80,0,0.35));
}

/* è¿œæ™¯è§†å·®æ¼‚ç§» â€” æ¨¡æ‹ŸSNESå¤šå±‚æ»šåŠ¨ */
.scene-far-detail {
    animation: parallax-far 60s linear infinite;
}
@keyframes parallax-far {
    0% { transform: translateX(0); }
    50% { transform: translateX(-3%); }
    100% { transform: translateX(0); }
}
```

#### Layer 4-5: .scene-mid + .scene-mid-detail â€” ä¸­æ™¯
**çµæ„Ÿ**ï¼šæ¶é­”åŸçš„ä¸­æ™¯è£…é¥°ï¼ˆçƒ›ç«ã€é“é“¾ã€çŸ³åƒï¼‰è®©åœºæ™¯å……æ»¡ç”Ÿæ°”

**å‡çº§ç‚¹**ï¼š
1. ä¸­æ™¯å‰ªå½±æ›´é«˜å¯¹æ¯”åº¦ï¼ˆæ¯”è¿œæ™¯æ›´æ·±çš„é¢œè‰²ï¼‰
2. SVGè£…é¥°æ·»åŠ äº’åŠ¨å…ƒç´ ï¼ˆç«æŠŠçš„ç«ç„°ã€æ°´æ™¶çš„æŠ˜å°„ã€è—¤è”“çš„æ‘†åŠ¨ï¼‰
3. ç«æŠŠå¸§åŠ¨ç”» â€” ä½¿ç”¨CSS `steps()` ç²¾çµåŠ¨ç”»æˆ– `torch-flicker` å¾®åŠ¨ç”»

```css
/* SVGç«æŠŠ â€” çµæ„Ÿæ¥è‡ªæ¶é­”åŸçƒ›ç« */
.scene-mid-detail.dark-scene::before {
    content: '';
    position: absolute;
    bottom: 25%; left: 8%;
    width: 15px; height: 40px;
    background-image: url("data:image/svg+xml,...");
    animation: torch-flicker 1.5s ease-in-out infinite;
}
@keyframes torch-flicker {
    0%, 100% { opacity: 0.8; transform: scaleY(1); }
    25% { opacity: 0.9; transform: scaleY(1.05); }
    50% { opacity: 0.7; transform: scaleY(0.95); }
    75% { opacity: 1; transform: scaleY(1.02); }
}

/* ä¸­æ™¯è§†å·® â€” æ¯”è¿œæ™¯ç¨å¿« */
.scene-mid-detail {
    animation: parallax-mid 40s linear infinite;
}
@keyframes parallax-mid {
    0% { transform: translateX(0); }
    50% { transform: translateX(-5%); }
    100% { transform: translateX(0); }
}
```

#### Layer 6: .scene-effects â€” ç²’å­ç‰¹æ•ˆï¼ˆä¿æŒç°æœ‰ï¼‰
å·²æœ‰çš„::before/::after box-shadowç²’å­ç³»ç»Ÿï¼Œä¿æŒä¸å˜ã€‚

#### Layer 7: .scene-atmosphere â€” æ°›å›´å åŠ å±‚ â­æ ¸å¿ƒæ–°å¢
**çµæ„Ÿ**ï¼šä¸‰å›½æˆ˜çºªçš„åä¸½æ³•æœ¯å…‰æ•ˆ + SNKæ ¼æ–—æ¸¸æˆçš„åœºæ™¯æ°›å›´

è¿™æ˜¯**è§†è§‰æ•ˆæœæå‡æœ€å¤§çš„ä¸€å±‚**ï¼Œä½¿ç”¨ `mix-blend-mode` åˆ›å»ºç”µå½±çº§å…‰ç…§æ•ˆæœï¼š

```css
.scene-atmosphere {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 7;
}

/* ç«ç³»ï¼šåº•éƒ¨å²©æµ†å…‰ç…§ â€” å‚è€ƒFF6ç«å±±èƒŒæ™¯ */
.scene-atmosphere.fire-scene {
    background:
        radial-gradient(ellipse at 50% 100%,
            rgba(255,80,0,0.35) 0%,
            rgba(200,50,0,0.15) 30%,
            transparent 60%
        ),
        radial-gradient(ellipse at 45% 85%,
            rgba(255,200,100,0.12) 0%,
            transparent 40%
        );
    mix-blend-mode: screen;
    animation: atmosphere-pulse 6s ease-in-out infinite;
}

/* æš—ç³»ï¼šæš—è§’æ•ˆæœ â€” å‚è€ƒæ¶é­”åŸæš—é»‘æ°›å›´ */
.scene-atmosphere.dark-scene {
    background:
        radial-gradient(ellipse at 50% 50%,
            transparent 30%,
            rgba(0,0,0,0.4) 100%
        );
    mix-blend-mode: multiply;
}

@keyframes atmosphere-pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}
```

### 3.3 CSS Filter åœºæ™¯æ°›å›´

**çµæ„Ÿ**ï¼šç»å…¸æ¸¸æˆæ¯ä¸ªå…³å¡éƒ½æœ‰ç‹¬ç‰¹çš„"è‰²è°ƒæ„Ÿè§‰"â€”â€”Mega Mançš„å†°äººå…³å¡åè“å†·ï¼Œç«äººå…³å¡åæš–çº¢

å¯¹æ•´ä¸ª `.battle-arena` åº”ç”¨CSS filterï¼š

```css
.battle-arena.mood-fire   { filter: contrast(1.1) brightness(1.05) saturate(1.2); }
.battle-arena.mood-ice    { filter: contrast(1.05) brightness(1.1) hue-rotate(-5deg) saturate(1.1); }
.battle-arena.mood-dark   { filter: contrast(1.15) brightness(0.85) saturate(0.8); }
.battle-arena.mood-ancient { filter: sepia(0.15) contrast(1.05) brightness(0.95); }
.battle-arena.mood-fairy  { filter: brightness(1.1) saturate(1.3) hue-rotate(5deg); }
```

---

## å››ã€24ç§åœºæ™¯è¯¦ç»†è®¾è®¡

### æ ‡å¿—æ€§è§†è§‰å…ƒç´ ä¸€è§ˆ

**è®¾è®¡åŸåˆ™**ï¼šæ¯ç§åœºæ™¯å¿…é¡»æœ‰1-2ä¸ª"ä¸€çœ¼å°±è®¤å‡ºæ¥"çš„æ ‡å¿—å…ƒç´ ï¼ˆå‚è€ƒPokemonå±æ€§é…è‰²ç†å¿µï¼‰

| å±æ€§ | å¤©ç©ºç‰¹å¾ | æ ‡å¿—å»ºç­‘/åœ°å½¢ | SVGè£…é¥° | æ°›å›´å…‰æ•ˆ | ç‰¹æ®Šç²’å­ |
|------|---------|-------------|---------|---------|---------|
| ğŸ”¥ç«ç³» | 10è‰²ç†”å²©å¤©é™… | åŒç«å±±å‰ªå½± | çƒŸé›¾SVG | åº•éƒ¨æ©™è‰²screen | ä¸Šå‡ç«ç„° |
| ğŸ’§æ°´ç³» | æ·±æµ·æ¸å˜ | æ³¢æµªå å±‚ | çŠç‘šSVG | åº•éƒ¨è“è‰²screen | ä¸Šå‡æ°”æ³¡ |
| â„ï¸å†°ç³» | æå…‰å¤©å¹• | é”¯é½¿å†°å±± | å†°æ™¶SVG | é¡¶éƒ¨å†·å…‰screen | é£˜è½é›ªèŠ± |
| âš¡é›·ç³» | ä¹Œäº‘å¯†å¸ƒ | åŸå¸‚å¤©é™…çº¿ | é¿é›·é’ˆSVG | é—ªç”µflash | ç”µå¼§é—ªçƒ |
| ğŸŒ¿è‰ç³» | æœˆå¤œæ˜Ÿç©º | èµ·ä¼ä¸˜é™µ | å¤§æ ‘SVG | åº•éƒ¨ç»¿è‰²screen | é£˜è½æ ‘å¶ |
| ğŸŒ‘æš—ç³» | è¿‘é»‘ç´«è‰² | å“¥ç‰¹åŸå ¡ | ç«æŠŠSVG | æš—è§’multiply | å¹½é­‚å…‰çƒ |
| ğŸ‘»é¬¼ç³» | å¤§æœˆäº®å¤œç©º | é¬¼å±‹å‰ªå½± | æ …æ ç¯ç¬¼SVG | è“ç»¿screen | é¬¼ç«é£˜æµ® |
| ğŸ‰é¾™ç³» | æ˜Ÿç©º+é‡‘è‰² | ç«å±±æ‚¬å´– | é¾™çˆªå²©SVG | ç´«é‡‘screen | ç«ç„°+çƒ­æµª |
| ğŸ§šå¦–ç²¾ç³» | ç²‰ç´«æ˜Ÿç©º | è˜‘è‡æ£®æ— | èŠ±æœµè˜‘è‡SVG | ç²‰è‰²screen | é—ªå…‰ç²’å­ |
| â˜ ï¸æ¯’ç³» | æ¯’ç»¿ç´«è‰² | æ¯æ ‘æ²¼æ³½ | æ¯’æ± SVG | ç»¿ç´«screen | æ¯’æ³¡ä¸Šå‡ |
| ğŸª¨å²©çŸ³ç³» | é»„è¤è‰² | å°åœ°æ‚¬å´– | å²©çŸ³è£‚çº¹SVG | åº•éƒ¨è¤è‰²screen | è½çŸ³ç²’å­ |
| ğŸ”®è¶…èƒ½ç³» | ç²‰ç´«æ‰­æ›² | æµ®ç©ºç¢çŸ³ | æ°´æ™¶æŸ±SVG | ç²‰ç´«è„‰å†²screen | èƒ½é‡çƒè½¨é“ |
| âš™ï¸é’¢ç³» | ç°è‰²å·¥ä¸š | å·¥å‚çƒŸå›± | é½¿è½®SVG | é“¶è‰²screen | ç«èŠ±é—ªçƒ |
| ğŸ¥Šæ ¼æ–—ç³» | æš—çº¢æš—æ©™ | æ–—å…½åœºé˜¶æ¢¯ | ç«æŠŠSVG | çº¢è‰²screen | çƒ­æµªçº¹ç† |
| ğŸŒªï¸é£ç³» | æ·±é’è“ | æµ®ç©ºå²› | ç€‘å¸ƒçº¿SVG | é’è‰²screen | é£çº¿æ‰«è¿‡ |
| â˜€ï¸å…‰ç³» | é‡‘è‰²æ”¾å°„ | ç¥æ®¿å¡”å°– | å…‰æŸ±SVG | é‡‘è‰²screen | é‡‘ç²’é£˜è½ |
| ğŸ˜ˆæ¶é­”ç³» | è¡€çº¢åˆ°é»‘ | åœ°ç‹±é—¨+å°–åˆº | é”é“¾SVG | è¡€çº¢screen | çº¢è‰²ä½™çƒ¬ |
| ğŸ¦é‡å…½ç³» | æš—æ©™æš—è¤ | éæ´²åˆæ¬¢æ ‘ | çŒæœ¨SVG | æš–è¤screen | æ²™å°˜é£˜æµ® |
| ğŸ›ï¸å¤ä»£ç³» | ç°é‡‘è‰² | é‡‘å­—å¡”åºŸå¢Ÿ | çŸ³ç¢‘SVG | æ³›é»„sepia | æ²™ç²’+ç¬¦æ–‡ |
| ğŸ‘»çµç³» | æš—ç´«è“ | é›¾ä¸­å±±è„‰ | ç©ºçµæ ‘SVG | è“ç´«screen | è“ç™½å…‰çƒ |
| ğŸ„ç”Ÿç‰©ç³» | æ·±ç»¿æ·±è“ | å·¨å‹è˜‘è‡æ— | è—¤è”“SVG | ç»¿è‰²screen | å­¢å­å‘å…‰ |
| ğŸ§™å·«å¸ˆç³» | æ˜Ÿç©ºæ·±ç´« | å·«å¸ˆå¡” | æµ®ä¹¦é­”æ³•é˜µSVG | è“ç´«screen | é­”æ³•ç²’å­ |
| ğŸ›è™«ç³» | é»„ç»¿è‰² | èœ‚å·¢/èšä¸˜ | è››ç½‘å¶ç‰‡SVG | é»„ç»¿screen | è¤ç«è™«è„‰å†² |
| â­æ™®é€šç³» | ç°è“æ˜Ÿç©º | å¹³ç¼“ä¸˜é™µ | å›´æ è·¯ç¯SVG | æŸ”å’Œgrey | æ˜Ÿæ˜Ÿé—ªçƒ |

---

## äº”ã€SVGè£…é¥°ç³»ç»Ÿè®¾è®¡

### 5.1 è®¾è®¡ç†å¿µ
**çµæ„Ÿ**ï¼šæ¶é­”åŸçš„æ¯ä¸ªå…³å¡éƒ½æœ‰2-3ä¸ªæ ‡å¿—æ€§è£…é¥°ç‰©â€”â€”çƒ›å°ã€é“é“¾ã€åå­—æ¶ã€‚è¿™äº›å…ƒç´ è™½ç„¶ç®€å•ï¼Œä½†è®©ç©å®¶ä¸€çœ¼å°±èƒ½è¾¨è®¤åœºæ™¯ç±»å‹ã€‚

æ¯ä¸ªåœºæ™¯æä¾›2-4ä¸ªSVGè£…é¥°ï¼ŒåµŒå…¥CSSçš„background-imageä¸­ã€‚SVGä¿æŒç®€æ´ï¼ˆæ¯ä¸ª< 1KBï¼‰ï¼Œç¡®ä¿æ€§èƒ½ã€‚

### 5.2 ç¤ºä¾‹SVGåº“

#### ç«æŠŠ (æš—ç³»/æ ¼æ–—ç³»/å¤ä»£ç³»é€šç”¨)
```svg
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 80'>
  <rect x='12' y='35' width='6' height='45' fill='#4a3020' rx='1'/>
  <ellipse cx='15' cy='30' rx='8' ry='14' fill='#ff6600' opacity='0.7'/>
  <ellipse cx='15' cy='24' rx='5' ry='9' fill='#ff9900' opacity='0.5'/>
  <ellipse cx='15' cy='19' rx='3' ry='5' fill='#ffcc00' opacity='0.3'/>
</svg>
```

#### æ°´æ™¶æŸ± (è¶…èƒ½ç³»/å†°ç³»é€šç”¨)
```svg
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 100'>
  <polygon points='20,0 35,35 30,100 10,100 5,35' fill='#4ecdc4' opacity='0.6'/>
  <polygon points='20,0 25,35 22,100 18,100 15,35' fill='#7eddd6' opacity='0.3'/>
  <line x1='20' y1='0' x2='30' y2='100' stroke='white' stroke-width='0.5' opacity='0.2'/>
</svg>
```

#### è˜‘è‡ (å¦–ç²¾ç³»/ç”Ÿç‰©ç³»é€šç”¨)
```svg
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 60'>
  <ellipse cx='25' cy='25' rx='22' ry='18' fill='#cc4488' opacity='0.7'/>
  <rect x='20' y='25' width='10' height='35' fill='#eeddcc' opacity='0.5' rx='3'/>
  <circle cx='15' cy='18' r='4' fill='white' opacity='0.3'/>
  <circle cx='30' cy='15' r='3' fill='white' opacity='0.2'/>
</svg>
```

#### åˆæ¬¢æ ‘ (é‡å…½ç³») â€” å‚è€ƒéæ´²å¤§è‰åŸ
```svg
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 100'>
  <rect x='37' y='40' width='6' height='60' fill='#2a1a0a'/>
  <ellipse cx='40' cy='35' rx='35' ry='12' fill='#1a3a0a' opacity='0.7'/>
  <ellipse cx='40' cy='33' rx='30' ry='8' fill='#0a2505' opacity='0.5'/>
</svg>
```

### 5.3 SVGå¯å¤ç”¨åº“

å»ºç«‹é€šç”¨SVGç»„ä»¶ï¼Œå¤šä¸ªåœºæ™¯å…±äº«ï¼ˆå‚è€ƒç»å…¸æ¸¸æˆçš„ç´ æå¤ç”¨ç­–ç•¥ï¼‰ï¼š
- **ç«æŠŠ** â†’ æš—ç³»ã€æ ¼æ–—ç³»ã€å¤ä»£ç³»
- **æ°´æ™¶** â†’ å†°ç³»ã€è¶…èƒ½ç³»ã€é¾™ç³»
- **è˜‘è‡** â†’ å¦–ç²¾ç³»ã€ç”Ÿç‰©ç³»ã€æ¯’ç³»
- **æ¯æ ‘** â†’ æš—ç³»ã€é¬¼ç³»ã€æ¯’ç³»
- **å²©çŸ³** â†’ å²©çŸ³ç³»ã€æ ¼æ–—ç³»ã€é¾™ç³»
- **èŠ±æœµ** â†’ è‰ç³»ã€å¦–ç²¾ç³»ã€è™«ç³»
- **é½¿è½®** â†’ é’¢ç³»
- **ç¬¦æ–‡** â†’ å·«å¸ˆç³»ã€å¤ä»£ç³»ã€çµç³»

---

## å…­ã€æˆ˜æ–—è½¬åœºåŠ¨ç”»

### 6.1 Iris Wipe è¿›å…¥æˆ˜æ–—
**çµæ„Ÿ**ï¼šPokemonç»å…¸çš„é»‘è‰²åœ†åœˆæ”¶ç¼©è¿›å…¥æˆ˜æ–—ç”»é¢

```css
@property --iris-radius {
    syntax: '<percentage>';
    inherits: true;
    initial-value: 105%;
}
.battle-iris-enter {
    mask-image: radial-gradient(
        circle,
        black calc(var(--iris-radius) - 5%),
        transparent calc(var(--iris-radius) + 5%)
    );
    animation: iris-open 0.6s ease-out forwards;
}
@keyframes iris-open {
    from { --iris-radius: -5%; }
    to { --iris-radius: 105%; }
}
```

### 6.2 æ¢æ€ªåœºæ™¯è¿‡æ¸¡
å½“æ€ªç‰©å±æ€§æ”¹å˜æ—¶ï¼Œæ¸å˜è¿‡æ¸¡ï¼ˆä¸æ˜¯ç¬é—´åˆ‡æ¢ï¼‰ï¼š

```javascript
BattleMode.transitionScene = function(oldType, newType) {
    // 1. æ—§åœºæ™¯æ·¡å‡º (0.3s)
    layers.forEach(l => l.style.opacity = '0');
    setTimeout(() => {
        // 2. åˆ‡æ¢class
        this._applySceneClasses(newType);
        // 3. æ–°åœºæ™¯æ·¡å…¥ (0.5s)
        layers.forEach(l => { l.style.opacity = '1'; });
    }, 300);
};
```

### 6.3 Bosså‡ºåœºç‰¹æ•ˆ
**çµæ„Ÿ**ï¼šç»å…¸RPG Bosså‡ºåœºæ—¶çš„ç”»é¢éœ‡åŠ¨ + ç™½è‰²é—ªå…‰

- åœºæ™¯æ•´ä½“é—ªçƒä¸€æ¬¡ï¼ˆç™½è‰²flash overlay 0.3sï¼‰
- æ°›å›´å±‚åŠ å¼ºï¼ˆopacityæå‡åˆ°1.0ï¼‰
- åœ°é¢éœ‡åŠ¨ï¼ˆarenaå¾®translateYæŠ–åŠ¨ 0.5sï¼‰
- æ€ªç‰©auraæ”¾å¤§1.5å€

---

## ä¸ƒã€æµ®åŠ¨ä¼¤å®³æ•°å­—ç³»ç»Ÿ

### 7.1 è®¾è®¡ç†å¿µ
**çµæ„Ÿ**ï¼šFinal Fantasy / Dragon Quest çš„ç»å…¸ä¼¤å®³æ•°å­—å¼¹å‡º + Ragnarok Onlineçš„å¼¹è·³ç¼©å°æ•ˆæœ

> è®¾è®¡åŸåˆ™ï¼šä¼¤å®³æ•°å­—è¦æœ‰"pop"çš„æ‰“å‡»æ„Ÿï¼›æ²»ç–—æ•°å­—è¦æŸ”å’Œä¸Šé£˜ï¼›Miss/é—ªé¿è¦è½»é£˜é£˜çš„ï¼ˆå‚è€ƒRPG Damage Number Philosophyï¼‰

### 7.2 CSSå®ç°

```css
.damage-number {
    position: absolute;
    font-family: 'Press Start 2P', monospace;
    font-size: 20px;
    color: #ffffff;
    text-shadow: 2px 2px 0 #000000;
    animation: dmg-float 1.2s ease-out forwards;
    pointer-events: none;
}
.damage-critical {
    color: #ff4444;
    font-size: 28px;
    animation: dmg-critical 1.5s ease-out forwards;
}
.damage-heal {
    color: #44ff44;
    font-size: 18px;
    animation: dmg-heal 1.5s ease-out forwards;
}

@keyframes dmg-float {
    0%   { transform: translateY(0) scale(0.5); opacity: 1; }
    20%  { transform: translateY(-20px) scale(1.2); opacity: 1; }
    40%  { transform: translateY(-40px) scale(1); opacity: 1; }
    100% { transform: translateY(-80px) scale(1); opacity: 0; }
}
@keyframes dmg-critical {
    0%   { transform: translateY(0) scale(0.3); opacity: 1; }
    15%  { transform: translateY(-30px) scale(1.5); opacity: 1; }
    30%  { transform: translateY(-50px) scale(1.1); opacity: 1; }
    100% { transform: translateY(-100px) scale(1); opacity: 0; }
}
@keyframes dmg-heal {
    0%   { transform: translateY(0); opacity: 0.5; }
    50%  { transform: translateY(-40px); opacity: 1; }
    100% { transform: translateY(-70px); opacity: 0; }
}
```

---

## å…«ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 8.1 æ€§èƒ½é¢„ç®—ï¼ˆ35vhç«æŠ€åœºï¼‰
- **3-5ä¸ªè§†å·®å±‚**ï¼šå„è‡ªtransformåŠ¨ç”» âœ…
- **20-40ä¸ªç²’å­å…ƒç´ **ï¼štransform+opacityåŠ¨ç”» âœ…
- **1-2ä¸ªblend-modeå åŠ **ï¼šmix-blend-mode âœ…
- **æ— é™é™æ€æ¸å˜å±‚**ï¼š0åŠ¨ç”»å¼€é”€ âœ…
- **1ä¸ªCSS filter**ï¼šåº”ç”¨äºæ•´ä¸ªç«æŠ€åœº âœ…
- **æ€»è®¡ï¼šçº¦30-50ä¸ªåŒæ—¶åŠ¨ç”»å…ƒç´ **ï¼Œå…¨éƒ¨ä½¿ç”¨transform/opacity

### 8.2 åŠ¨ç”»å±æ€§ç™½åå•

**åªå…è®¸åŠ¨ç”»è¿™äº›å±æ€§**ï¼ˆGPUåˆæˆï¼Œ0å¸ƒå±€å¼€é”€ï¼‰ï¼š
- `transform`ï¼ˆtranslateX/Y, scale, rotateï¼‰
- `opacity`
- `filter`ï¼ˆä»…åœ¨å•ä¸ªå®¹å™¨ä¸Šï¼‰

**ç»ä¸åŠ¨ç”»**ï¼š
- `width`, `height`, `top`, `left`ï¼ˆè§¦å‘å¸ƒå±€ï¼‰
- `background-position`ï¼ˆè§¦å‘ç»˜åˆ¶ï¼‰â€” å”¯ä¸€ä¾‹å¤–ï¼šæ˜Ÿç©ºåœºç”¨box-shadowæ›¿ä»£
- `box-shadow`ï¼ˆè§¦å‘ç»˜åˆ¶ï¼‰
- `border-radius`ï¼ˆè§¦å‘ç»˜åˆ¶ï¼‰

### 8.3 will-change ç­–ç•¥

```css
.scene-far-detail,
.scene-mid-detail,
.scene-atmosphere {
    will-change: transform, opacity;
}
/* ç²’å­å…ƒç´ ä¸è®¾will-changeï¼ˆå¤ªå¤šäº†ä¼šé€‚å¾—å…¶åï¼‰ */
```

### 8.4 å‡å°‘è¿åŠ¨æ¨¡å¼

```css
@media (prefers-reduced-motion: reduce) {
    .scene-element,
    .scene-far-detail,
    .scene-mid-detail,
    .scene-atmosphere {
        animation: none !important;
    }
}
```

### 8.5 ä½ç«¯è®¾å¤‡æ£€æµ‹

```javascript
var _lowPerformance = false;
var _frameCount = 0;
var _lastTime = performance.now();

function checkPerformance() {
    _frameCount++;
    var now = performance.now();
    if (now - _lastTime >= 2000) {
        var fps = _frameCount / ((now - _lastTime) / 1000);
        _lowPerformance = fps < 30;
        if (_lowPerformance) {
            // é™çº§ï¼šå‡å°‘ç²’å­æ•°ã€å…³é—­è§†å·®åŠ¨ç”»
            document.body.classList.add('low-perf');
        }
        _frameCount = 0;
        _lastTime = now;
    }
    requestAnimationFrame(checkPerformance);
}
```

```css
.low-perf .scene-far-detail,
.low-perf .scene-mid-detail {
    animation: none !important;
}
.low-perf .scene-element:nth-child(n+5) {
    display: none;
}
```

---

## ä¹ã€å®æ–½è®¡åˆ’

### Phase 1ï¼šåŸºç¡€å±‚ç»“æ„ + æ°›å›´å åŠ ï¼ˆæœ€å¤§è§†è§‰æå‡ï¼‰
**é¢„æœŸæ•ˆæœ**ï¼šåœºæ™¯ç«‹å³å˜å¾—æ›´æœ‰æ·±åº¦å’Œæ°›å›´æ„Ÿ

1. index.html æ·»åŠ 4ä¸ªæ–°å±‚ DOM
2. scenes.css æ·»åŠ æ–°å±‚åŸºç¡€æ ·å¼
3. å®ç° `.scene-atmosphere` çš„24ç§mix-blend-modeå…‰æ•ˆ
4. å®ç° CSS filter mood ç³»ç»Ÿï¼ˆ12ç§æ°›å›´æ»¤é•œï¼‰
5. battle-arena.js æ›´æ–° applyMonsterTheme() ç®¡ç†æ–°å±‚

### Phase 2ï¼šå¤©ç©ºå¢å¼º + æ˜Ÿç©ºç³»ç»Ÿ
**é¢„æœŸæ•ˆæœ**ï¼šå¤©ç©ºä»å•è°ƒæ¸å˜å˜æˆä¸°å¯Œçš„å¤šå±‚å¤©å¹•

1. é‡å†™24ç§ .scene-sky ä¸º10+è‰²åœæ¸å˜
2. å®ç° .scene-stars çš„æœˆäº®/å¤ªé˜³/æ˜Ÿç©º/æå…‰
3. æ·»åŠ å¤©ä½“åŠ¨ç”»ï¼ˆæ˜Ÿæ˜Ÿé—ªçƒã€æå…‰æ‘†åŠ¨ï¼‰

### Phase 3ï¼šSVGè£…é¥°ç³»ç»Ÿ
**é¢„æœŸæ•ˆæœ**ï¼šåœºæ™¯ä¸­å‡ºç°å¯è¯†åˆ«çš„å…·ä½“ç‰©ä½“ï¼ˆç«æŠŠã€æ°´æ™¶ã€æ ‘æœ¨ï¼‰

1. åˆ›å»º8-12ä¸ªé€šç”¨SVGç»„ä»¶
2. å®ç° .scene-far-detail å’Œ .scene-mid-detail
3. ä¸ºæ¯ç§åœºæ™¯é…ç½®2-4ä¸ªSVGè£…é¥°
4. æ·»åŠ SVGå¾®åŠ¨ç”»ï¼ˆç«æŠŠé—ªçƒã€æ°´æ™¶è„‰å†²ç­‰ï¼‰

### Phase 4ï¼šè§†å·®åŠ¨ç”» + å‰ªå½±å‘å…‰
**é¢„æœŸæ•ˆæœ**ï¼šåœºæ™¯æœ‰äº†æ·±åº¦ç§»åŠ¨æ„Ÿï¼Œå‰ªå½±æ¸…æ™°å¯è§

1. è¿œæ™¯/ä¸­æ™¯æ·»åŠ æ…¢é€Ÿè§†å·®æ¼‚ç§»åŠ¨ç”»
2. æ‰€æœ‰å‰ªå½±æ·»åŠ  drop-shadow å‘å…‰è¾¹ç¼˜
3. å¢å¼ºå‰ªå½±å¯¹æ¯”åº¦

### Phase 5ï¼šæˆ˜æ–—è½¬åœº + Bossç‰¹æ•ˆ + ä¼¤å®³æ•°å­—
**é¢„æœŸæ•ˆæœ**ï¼šæˆ˜æ–—ä½“éªŒæ›´å®Œæ•´ã€æ›´æœ‰ä»ªå¼æ„Ÿ

1. å®ç°iris wipeè¿›å…¥æˆ˜æ–—
2. å¹³æ»‘åœºæ™¯è¿‡æ¸¡åŠ¨ç”»
3. Bosså‡ºåœºé—ªå…‰+éœ‡åŠ¨æ•ˆæœ
4. æµ®åŠ¨ä¼¤å®³æ•°å­—ç³»ç»Ÿ

### Phase 6ï¼šæ€§èƒ½ä¼˜åŒ– + æµ‹è¯•
1. æ·»åŠ  prefers-reduced-motion æ”¯æŒ
2. æ·»åŠ ä½ç«¯è®¾å¤‡æ£€æµ‹å’Œé™çº§
3. å…¨åœºæ™¯åŠŸèƒ½æµ‹è¯•
4. ç§»åŠ¨ç«¯æ€§èƒ½æµ‹è¯•ï¼ˆç›®æ ‡ï¼šæ‰€æœ‰åœºæ™¯ > 45fpsï¼‰

---

## åã€æ–‡ä»¶å˜æ›´æ¸…å•

| æ–‡ä»¶ | æ”¹åŠ¨ç±»å‹ | æè¿° |
|------|---------|------|
| `index.html` | ä¿®æ”¹ | æ·»åŠ 4ä¸ªæ–°sceneå±‚DOM |
| `css/scenes.css` | å¤§æ”¹ | é‡å†™å¤©ç©ºæ¸å˜ã€æ·»åŠ æ–°å±‚æ ·å¼ã€æ°›å›´å åŠ ã€SVGè£…é¥° |
| `css/scenes-svg.css` | æ–°å¢ | SVG data:URI è£…é¥°åº“ï¼ˆç‹¬ç«‹æ–‡ä»¶é¿å…scenes.cssè¿‡å¤§ï¼‰ |
| `js/battle-arena.js` | ä¿®æ”¹ | æ›´æ–°applyMonsterThemeç®¡ç†æ–°å±‚ã€mood filterã€åœºæ™¯è¿‡æ¸¡ |
| `js/battle-combat.js` | å°æ”¹ | Bosså‡ºåœºç‰¹æ•ˆã€ä¼¤å®³æ•°å­—è§¦å‘ã€irisè½¬åœº |

---

## åä¸€ã€éªŒè¯æ¸…å•

- [ ] ç«ç³»åœºæ™¯ï¼šèƒ½çœ‹åˆ°ç«å±±å‰ªå½±+å‘å…‰è½®å»“ã€åº•éƒ¨å²©æµ†å…‰ç…§ã€ç«æŠŠSVGã€ä¸Šå‡ç«ç„°
- [ ] å†°ç³»åœºæ™¯ï¼šæå…‰å¸¦æ‘†åŠ¨ã€å†°å±±å‘å…‰è½®å»“ã€å†°æ™¶SVGã€é£˜è½é›ªèŠ±ã€å†·å…‰æ°›å›´
- [ ] æš—ç³»åœºæ™¯ï¼šå¤§æœˆäº®+æš—è§’æ•ˆæœã€åŸå ¡å‘å…‰è½®å»“ã€ç«æŠŠSVGã€å¹½é­‚å…‰çƒ
- [ ] 24ç§åœºæ™¯å„æœ‰æ˜æ˜¾è§†è§‰å·®å¼‚ï¼ˆè‰²è°ƒã€å»ºç­‘ã€è£…é¥°ã€å…‰æ•ˆã€ç²’å­å…¨ä¸åŒï¼‰
- [ ] è¿›å…¥æˆ˜æ–—æœ‰iris wipeåŠ¨ç”»
- [ ] Bosså‡ºåœºæœ‰ç™½è‰²flash + éœ‡åŠ¨æ•ˆæœ
- [ ] æ¢æ€ªæ—¶åœºæ™¯å¹³æ»‘è¿‡æ¸¡ï¼ˆä¸é—ªçƒï¼‰
- [ ] ä¼¤å®³æ•°å­—æ­£ç¡®å¼¹å‡ºï¼ˆæ™®é€šç™½è‰²ã€æš´å‡»çº¢è‰²æ”¾å¤§ã€æ²»ç–—ç»¿è‰²ï¼‰
- [ ] iPhone SE (ä½ç«¯) è¿è¡Œæµç•… > 45fps
- [ ] iPad è¿è¡Œæµç•… > 55fps
- [ ] prefers-reduced-motion ä¸‹æ— åŠ¨ç”»
- [ ] æ‰€æœ‰JSæ–‡ä»¶é€šè¿‡ node -c è¯­æ³•æ£€æŸ¥
